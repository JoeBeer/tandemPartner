<div class="row">
  <div class="col-1"></div>
  <div class="col-10">
    <div class="card mx-auto my-5 shadow">
        <div class="card-header bg-warning text-center h5">
            {{'profile.headerTitle' | translate }}
          </div>
      <div class="card-body">
          <form class="" [formGroup]="editForm" (ngSubmit)="editFormSave()" novalidate>
            <div class="row">
              <div class="form-group col-md-6">
                  <label for="editFormFirstname">{{'register.firstname' | translate }}*</label>
                  <input type="text" class="form-control shadow-sm" id="editFormFirstname" formControlName="editFormFirstname" placeholder="{{'register.firstname' | translate }}">
              </div>
              <div class="form-group col-md-6">
                  <label for="editFormLastname">{{'register.lastname' | translate }}*</label>
                  <input type="text" class="form-control shadow-sm" id="editFormLastname" formControlName="editFormLastname" placeholder="{{'register.lastname' | translate }}">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 form-group">
                <label for="editFormSex">{{'register.sex' | translate }}*</label>
                <div class="form-control shadow-sm bg-light"id="editFormSex" disabled>{{sex}}</div>

              </div>
              <div class="col-md-6 form-group">
                  <label>{{'register.mail' | translate }}*</label>
                  <input type="text" class="form-control shadow-sm" id="editFormMail" formControlName="editFormMail" placeholder="name@example.com">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 form-group">
                <label for="editFormCity">{{'register.city' | translate }}*</label>
                <ng-multiselect-dropdown  class="form-control shadow-sm" id="editFormCity" #editFormCity="ngModel"
                  [placeholder]="'register.pleaseChoose' | translate"
                  [data]="cities"
                  [(ngModel)]="selectedCity" [ngModelOptions]="{ standalone : true }"
                  [settings]="selectCitySettings" required>
                </ng-multiselect-dropdown>
              </div>
              <div class="col-md-6 form-group">
                  <label for="editFormBirthday">{{'register.birthday' | translate }}*</label>
                  <input type="text"
                  [placeholder]="'register.birthday' | translate"
                  class="form-control shadow-sm bg-light"
                  bsDatepicker id="editFormBirthday" formControlName="editFormBirthday"
                  [bsConfig]="{ dateInputFormat: 'MM.DD.YYYY', containerClass: 'theme-orange' }">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 form-group">
                <label for="editFormOffers">{{'register.offers' | translate }}:*</label>
                <ng-multiselect-dropdown  class="form-control shadow-sm" id="editFormOffers" #editFormOffers="ngModel"
                   [placeholder]="'register.pleaseChoose' | translate"
                   [data]="offers"
                   [(ngModel)]="selectedOffers" [ngModelOptions]="{ standalone : true }"
                   [settings]="selectOffersActivitiesSettings" required>
                </ng-multiselect-dropdown>
              </div>
              <div class="col-md-6 form-group">
                <label for="editFormActivities">{{'register.activities' | translate }}:*</label>
                <ng-multiselect-dropdown  class="form-control shadow-sm" id="editFormActivities" #editFormActivities="ngModel"
                   [placeholder]="'register.pleaseChoose' | translate"
                   [data]="activities"
                   [(ngModel)]="selectedActivities" [ngModelOptions]="{ standalone : true }"
                   [settings]="selectOffersActivitiesSettings" required>
                </ng-multiselect-dropdown>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 form-group">
                  <label>{{'profile.newPassword' | translate }}*</label>
                  <input type="password" class="form-control shadow-sm" id="editFormPassword" formControlName="editFormPassword" placeholder="{{'register.password' | translate }}">
              </div>
              <div class="col-md-6 form-group">
                  <label>{{'profile.newPasswordConfirm' | translate }}*</label>
                  <input type="password" class="form-control shadow-sm" id="editFormPasswordConfirm" formControlName="editFormPasswordConfirm" placeholder="{{'register.passwordConfirm' | translate }}">
              </div>
            </div>

            <!--Validator messages-->
            <div class="alert-danger pl-2" *ngIf="editFormFirstname.errors && (editFormFirstname.touched || editFormFirstname.dirty)">
                <div *ngIf="editFormFirstname.errors.required">{{'register.firstname' | translate }} {{'validators.required' | translate }}</div>
                <div *ngIf="editFormFirstname.errors.pattern">{{'validators.letterSpaces' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormLastname.errors && (editFormLastname.touched || editFormLastname.dirty)">
                <div *ngIf="editFormLastname.errors.required">{{'register.lastname' | translate }} {{'validators.required' | translate }}</div>
                <div *ngIf="editFormLastname.errors.pattern">{{'validators.letterSpaces' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormMail.errors && (editFormMail.touched || editFormMail.dirty)">
                <div *ngIf="editFormMail.errors.required">{{'register.mail' | translate }} {{'validators.required' | translate }}</div>
                <div *ngIf="editFormMail.errors.email">{{'validators.email' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormPassword.errors && (editFormPassword.touched || editFormPassword.dirty)">
                <div *ngIf="editFormPassword.errors.pattern">{{'validators.passwordPattern' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormPasswordConfirm.errors && (editFormPasswordConfirm.touched || editFormPasswordConfirm.dirty)">
                <div *ngIf="editFormPasswordConfirm.errors.pattern">{{'validators.passwordPattern' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormPassword.value != editFormPasswordConfirm.value && editFormPasswordConfirm.value != null">
                  {{'validators.passwordMismatch' | translate }}
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormOffers.errors && (editFormOffers.touched || editFormOffers.dirty)">
                  <div *ngIf="editFormOffers.errors.required" class="alert-danger">{{'validators.minOffers' | translate }}</div>
              </div>

              <div class="alert-danger pl-2" *ngIf="editFormCity.errors && (editFormCity.touched || editFormCity.dirty)">
                <div *ngIf="editFormCity.errors.required" class="alert-danger">{{'validators.city' | translate }}</div>
            </div>

              <div class="alert-danger pl-2" *ngIf="editFormActivities.errors && (editFormActivities.touched || editFormActivities.dirty)">
                  <div *ngIf="editFormActivities.errors.required" class="alert-danger">{{'validators.minActivities' | translate }}</div>
              </div>
              <!--End-Validator messages-->

              <div class="btn-toolbar d-flex justify-content-center" role="toolbar">
              <div class="btn-group mr-1 mr-md-3">
                <button type="button" type="submit" class="btn btn-warning d-flex mx-auto mt-2" [disabled]="(!editForm.valid || !editFormOffers.valid || !editFormActivities.valid || !editFormCity.valid)">{{'register.saveButton' | translate }}</button>
              </div>
              <div class="btn-group ml-md-3 mr-1 mr-md-3">
                <button type="button" [routerLink]="['/home']" class="btn btn-outline-warning d-flex mx-auto mt-2" >{{'register.quitButton' | translate }}</button>
              </div>
              <div class="btn-group ml-md-3">
                <button type="button"  class="btn btn-outline-danger d-flex mx-auto mt-2" (click)="openModal()">{{'profile.deleteButton' | translate }}</button>
              </div>
            </div>
          </form>
      </div>
    </div>
  </div>
  <div class="col-1"></div>
</div>

<!-- Deletemodal -->
<div class="modal-backdrop fade in" [ngStyle]="{'display':display}"></div>
<div *ngIf="modalIsOpen" class="modal" [ngStyle]="{'display': display}" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Profil lÃ¶schen</h5>
        <button type="button" class="close" (click)="closeModal()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          {{ 'profile.deleteQuestion' | translate}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger" (click)="deleteProfile()">{{ 'modal.deleteButton' | translate}}</button>
        <button type="button" class="btn btn-warning" (click)="closeModal()">{{ 'register.quitButton' | translate}}</button>
      </div>
    </div>
  </div>
</div>
