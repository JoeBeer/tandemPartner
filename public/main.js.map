{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/about-page/about-page.component.html","webpack:///./src/app/components/about-page/about-page.component.scss","webpack:///./src/app/components/about-page/about-page.component.ts","webpack:///./src/app/components/chatroom-item/chatroom-item.component.html","webpack:///./src/app/components/chatroom-item/chatroom-item.component.scss","webpack:///./src/app/components/chatroom-item/chatroom-item.component.ts","webpack:///./src/app/components/chatroom-list/chatroom-list.component.html","webpack:///./src/app/components/chatroom-list/chatroom-list.component.scss","webpack:///./src/app/components/chatroom-list/chatroom-list.component.ts","webpack:///./src/app/components/error-page/error-page.component.html","webpack:///./src/app/components/error-page/error-page.component.scss","webpack:///./src/app/components/error-page/error-page.component.ts","webpack:///./src/app/components/footer/footer.component.html","webpack:///./src/app/components/footer/footer.component.scss","webpack:///./src/app/components/footer/footer.component.ts","webpack:///./src/app/components/home/home.component.css","webpack:///./src/app/components/home/home.component.html","webpack:///./src/app/components/home/home.component.ts","webpack:///./src/app/components/impressum-page/impressum-page.component.html","webpack:///./src/app/components/impressum-page/impressum-page.component.scss","webpack:///./src/app/components/impressum-page/impressum-page.component.ts","webpack:///./src/app/components/login-page/login-page.component.html","webpack:///./src/app/components/login-page/login-page.component.scss","webpack:///./src/app/components/login-page/login-page.component.ts","webpack:///./src/app/components/match-list/match-list.component.html","webpack:///./src/app/components/match-list/match-list.component.scss","webpack:///./src/app/components/match-list/match-list.component.ts","webpack:///./src/app/components/navbar/navbar.component.html","webpack:///./src/app/components/navbar/navbar.component.scss","webpack:///./src/app/components/navbar/navbar.component.ts","webpack:///./src/app/components/profile-page/profile-page.component.html","webpack:///./src/app/components/profile-page/profile-page.component.scss","webpack:///./src/app/components/profile-page/profile-page.component.ts","webpack:///./src/app/components/register-page/register-page.component.css","webpack:///./src/app/components/register-page/register-page.component.html","webpack:///./src/app/components/register-page/register-page.component.ts","webpack:///./src/app/components/result-page/result-page.component.html","webpack:///./src/app/components/result-page/result-page.component.scss","webpack:///./src/app/components/result-page/result-page.component.ts","webpack:///./src/app/components/search-page/search-page.component.html","webpack:///./src/app/components/search-page/search-page.component.scss","webpack:///./src/app/components/search-page/search-page.component.ts","webpack:///./src/app/models/match.ts","webpack:///./src/app/pipes/sort.pipe.ts","webpack:///./src/app/services/auth.guard.ts","webpack:///./src/app/services/auth.service.ts","webpack:///./src/app/services/chat.service.ts","webpack:///./src/app/services/match-store.service.ts","webpack:///./src/app/services/search.service.ts","webpack:///./src/app/services/user-store.service.ts","webpack:///./src/app/services/utility-store.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { AuthGuard } from './services/auth.guard';\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RegisterPageComponent } from './components/register-page/register-page.component';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { AboutPageComponent } from './components/about-page/about-page.component';\r\nimport { SearchPageComponent } from './components/search-page/search-page.component';\r\nimport { ChatroomListComponent } from './components/chatroom-list/chatroom-list.component';\r\nimport { ChatroomItemComponent } from './components/chatroom-item/chatroom-item.component';\r\nimport { LoginPageComponent } from './components/login-page/login-page.component';\r\nimport { MatchListComponent } from './components/match-list/match-list.component';\r\nimport { ProfilePageComponent } from './components/profile-page/profile-page.component';\r\nimport { ResultPageComponent } from './components/result-page/result-page.component';\r\nimport { ImpressumPageComponent } from './components/impressum-page/impressum-page.component';\r\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: '/login',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginPageComponent\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterPageComponent\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'matches',\r\n    component: MatchListComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'chats',\r\n    component: ChatroomListComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'chats/:id',\r\n    component: ChatroomItemComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'profile',\r\n    component: ProfilePageComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'search',\r\n    component: SearchPageComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'result/:id',\r\n    component: ResultPageComponent,\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'impressum',\r\n    component: ImpressumPageComponent\r\n  },\r\n  {\r\n    path: 'about',\r\n    component: AboutPageComponent\r\n  },\r\n  {\r\n    path: '**',\r\n    component: ErrorPageComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"<div class=\\\"footer-wrap\\\">\\r\\n<app-navbar></app-navbar>\\r\\n<div class=\\\"container container-wrap\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n<app-footer></app-footer>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { UtilityStoreService } from './services/utility-store.service';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'tandem-frontend';\r\n\r\n  constructor(\r\n    private utilitiesService: UtilityStoreService\r\n  ) {\r\n\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\n\r\n// components\r\nimport { RegisterPageComponent } from './components/register-page/register-page.component';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { LoginPageComponent } from './components/login-page/login-page.component';\r\nimport { MatchListComponent } from './components/match-list/match-list.component';\r\nimport { ChatroomListComponent } from './components/chatroom-list/chatroom-list.component';\r\nimport { ChatroomItemComponent } from './components/chatroom-item/chatroom-item.component';\r\nimport { ProfilePageComponent } from './components/profile-page/profile-page.component';\r\nimport { SearchPageComponent } from './components/search-page/search-page.component';\r\nimport { ResultPageComponent } from './components/result-page/result-page.component';\r\nimport { ImpressumPageComponent } from './components/impressum-page/impressum-page.component';\r\nimport { AboutPageComponent } from './components/about-page/about-page.component';\r\nimport { ErrorPageComponent } from './components/error-page/error-page.component';\r\nimport { FooterComponent } from './components/footer/footer.component';\r\nimport { NavbarComponent } from './components/navbar/navbar.component';\r\n\r\n// services\r\nimport { AuthService } from './services/auth.service';\r\nimport { AuthGuard } from './services/auth.guard';\r\nimport { UserStoreService } from './services/user-store.service';\r\nimport { MatchStoreService } from './services/match-store.service';\r\nimport { UtilityStoreService } from './services/utility-store.service';\r\nimport { SearchService } from './services/search.service';\r\nimport { ChatService } from './services/chat.service';\r\n\r\n// imports for firebase\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { AngularFirestoreModule, FirestoreSettingsToken } from '@angular/fire/firestore';\r\nimport { environment } from '../environments/environment';\r\nimport { SortPipe } from './pipes/sort.pipe';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    RegisterPageComponent,\r\n    HomeComponent,\r\n    LoginPageComponent,\r\n    MatchListComponent,\r\n    ChatroomListComponent,\r\n    ChatroomItemComponent,\r\n    ProfilePageComponent,\r\n    SearchPageComponent,\r\n    ResultPageComponent,\r\n    ImpressumPageComponent,\r\n    AboutPageComponent,\r\n    ErrorPageComponent,\r\n    FooterComponent,\r\n    NavbarComponent,\r\n    SortPipe\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule,\r\n    AngularFirestoreModule,\r\n    FontAwesomeModule,\r\n    NgxPaginationModule,\r\n    NgMultiSelectDropDownModule.forRoot(),\r\n    FormsModule,\r\n    BsDatepickerModule.forRoot()\r\n  ],\r\n  providers: [\r\n    UserStoreService,\r\n    AuthService,\r\n    AuthGuard,\r\n    MatchStoreService,\r\n    UtilityStoreService,\r\n    ChatService,\r\n    SearchService,\r\n    ChatroomListComponent,\r\n    { provide: FirestoreSettingsToken, useValue: {} } // To solve the timestampInSnapshot-Error\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"<div class=\\\"row mt-4\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-12 col-md-10\\\">\\r\\n    <div class=\\\"card m-4 text-center shadow-sm\\\">\\r\\n\\r\\n      <h1 class=\\\"card-title font-weight-light mt-2\\\">{{ 'about.heading' | translate }}</h1>\\r\\n      <hr class=\\\"my-1 border-warning\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <blockquote class=\\\"blockquote mb-0\\\">\\r\\n          <p>{{ 'about.blockquote' | translate }}</p>\\r\\n          <footer class=\\\"blockquote-footer\\\">Benjamin Fanklin</footer>\\r\\n        </blockquote>\\r\\n\\r\\n        <br />\\r\\n        <div class=\\\"card-text\\\">\\r\\n          {{ 'about.explanation' | translate }}\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <br />\\r\\n      <img src=\\\"../../../assets/images/Team-Foto.jpg\\\" class=\\\"card-img-top\\\" alt=\\\"...\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <p class=\\\"card-text\\\">{{ 'about.imageExplanation' | translate }}<br />\\r\\n          Arne, Eric, Pascal, Joe und Luis</p>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvYWJvdXQtcGFnZS9hYm91dC1wYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-about-page',\r\n  templateUrl: './about-page.component.html',\r\n  styleUrls: ['./about-page.component.scss']\r\n})\r\nexport class AboutPageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row mt-4\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-12\\\">\\r\\n    <ng-container *ngIf=\\\"chatroom$ | async as chat\\\">\\r\\n      <ng-container *ngIf=\\\" authService.user$ | async as user\\\">\\r\\n\\r\\n        <div #chatBox class=\\\"card shadow mb-2\\\">\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <div *ngFor=\\\"let message of chat.messages; trackBy: trackByCreated\\\">\\r\\n              <div *ngIf=\\\"message.user?.uid !== authService.currentUserID; else positionRight\\\" class=\\\"card col-10 col-md-8 shadow-sm mb-3\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"\\r\\n                data-autohide=\\\"false\\\">\\r\\n\\r\\n\\r\\n                <div class=\\\"toast-header border-info\\\">\\r\\n                  <strong class=\\\"mr-auto\\\">{{ message.user?.firstname }}</strong>\\r\\n                  <small class=\\\"text-muted\\\">{{ message.createdAt | date: 'dd.MM.yyyy' }}</small>\\r\\n                </div>\\r\\n                <div class=\\\"toast-body small\\\">\\r\\n                  {{ message.content }}\\r\\n                </div>\\r\\n              </div><!--ngif message.user.uid !== currentUserID-->\\r\\n              <ng-template #positionRight>\\r\\n                <div class=\\\"card col-10 offset-2 col-md-8 offset-md-4 shadow-sm mb-3\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"\\r\\n                data-autohide=\\\"false\\\">\\r\\n\\r\\n\\r\\n                <div class=\\\"toast-header border-warning\\\">\\r\\n                  <strong class=\\\"mr-auto\\\">{{ 'chatroomItem.currentUser' | translate }}</strong>\\r\\n                  <small class=\\\"text-muted\\\">{{ message.createdAt | date: 'dd.MM.yyyy' }}</small>\\r\\n                </div>\\r\\n                <div class=\\\"toast-body small\\\">\\r\\n                  {{ message.content }}\\r\\n                </div>\\r\\n              </div>\\r\\n              </ng-template>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n\\r\\n        <form>\\r\\n          <div class=\\\"form-row mb-3 mx-3\\\">\\r\\n\\r\\n            <div class=\\\"col-md-8 offset-md-4\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"newMessage\\\" name=\\\"messageInput\\\" maxlength=\\\"100\\\"\\r\\n                  (keydown.enter)=\\\"submit(chat.id)\\\" placeholder=\\\"{{ 'chatroomItem.inputPlaceholder' | translate }}\\\" autofocus>\\r\\n                <div class=\\\"input-group-append ml-2\\\">\\r\\n                    <button class=\\\"btn btn-outline-warning\\\" type=\\\"button\\\" (click)=\\\"submit(chat.id)\\\"\\r\\n                    [disabled]=\\\"!newMessage\\\">\\r\\n                    <fa-icon [icon]=\\\"faReply\\\"></fa-icon>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n\\r\\n      </ng-container>\\r\\n    </ng-container>\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2hhdHJvb20taXRlbS9jaGF0cm9vbS1pdGVtLmNvbXBvbmVudC5zY3NzIn0= */\"","import { AuthService } from 'src/app/services/auth.service';\r\nimport { ChatService } from './../../services/chat.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { faReply } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'app-chatroom-item',\r\n  templateUrl: './chatroom-item.component.html',\r\n  styleUrls: ['./chatroom-item.component.scss']\r\n})\r\nexport class ChatroomItemComponent implements OnInit {\r\n\r\n  chatroom$: Observable<any>;\r\n  newMessage: string;\r\n\r\n  faReply = faReply;\r\n\r\n  constructor(\r\n    public chatService: ChatService,\r\n    private route: ActivatedRoute,\r\n    public authService: AuthService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const chatroomId = this.route.snapshot.paramMap.get(`id`);\r\n    const source = this.chatService.getChatroomById(chatroomId);\r\n    this.chatroom$ = this.chatService.joinUsers(source);\r\n  }\r\n\r\n  submit(chatId) {\r\n    if (!this.newMessage) {\r\n      return alert('you need to enter something');\r\n    }\r\n    this.chatService.sendMessage(chatId, this.newMessage)\r\n      .subscribe();\r\n    this.newMessage = ``;\r\n    setTimeout(() => window.scrollTo(0, document.body.scrollHeight), 500);\r\n  }\r\n\r\n  trackByCreated(message) {\r\n    return message.createdAt;\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row mt-4\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div class=\\\"card shadow my-3\\\" *ngFor=\\\"let chatroom of userChatsAsUserA$\\\">\\r\\n      <div class=\\\"card-body py-2 accepted-match-cards\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-10\\\">\\r\\n            <a [routerLink]=\\\"chatroom.id\\\">\\r\\n              <span class=\\\"text-decoration-none text-dark\\\">{{ chatroom.firstname }} {{ chatroom.lastname }}</span>\\r\\n              <hr class=\\\"border-warning border-bottom mt-0 mb-1\\\">\\r\\n              <p class=\\\"text-muted mb-0\\\">{{ chatroom.messages.length }} {{'chatroomList.messages' | translate }}</p>\\r\\n            </a>\\r\\n          </div>\\r\\n          <div class=\\\"col-2 d-flex align-items-center justify-content-end\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\" (click)=\\\"openModal(chatroom.id, 'userChatsAsUserA$')\\\"\\r\\n            data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{ 'chatroomList.deleteTooltip' | translate }}\\\">\\r\\n              <fa-icon [icon]=\\\"faTimes\\\"></fa-icon>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"card shadow my-3\\\" *ngFor=\\\"let chatroom of userChatsAsUserB$\\\">\\r\\n      <div class=\\\"card-body py-2 accepted-match-cards\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-10\\\">\\r\\n            <a [routerLink]=\\\"chatroom.id\\\">\\r\\n              <span class=\\\"text-decoration-none text-dark\\\">{{ chatroom.firstname }} {{ chatroom.lastname }}</span>\\r\\n              <hr class=\\\"border-warning border-bottom mt-0 mb-1\\\">\\r\\n              <p class=\\\"text-muted mb-0\\\">{{ chatroom.messages.length }} {{'chatroomList.messages' | translate }}</p>\\r\\n            </a>\\r\\n          </div>\\r\\n          <div class=\\\"col-2 d-flex align-items-center justify-content-end\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\" (click)=\\\"openModal(chatroom.id, 'userChatsAsUserB$')\\\"\\r\\n            data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{ 'chatroomList.deleteTooltip' | translate }}\\\">\\r\\n              <fa-icon [icon]=\\\"faTimes\\\"></fa-icon>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\\r\\n<!-- Modal -->\\r\\n<div class=\\\"modal-backdrop fade in\\\" [ngStyle]=\\\"{'display':display}\\\"></div>\\r\\n<div *ngIf=\\\"modalIsOpen\\\" class=\\\"modal\\\" [ngStyle]=\\\"{'display': display}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n        <div class=\\\"modal-header\\\">\\r\\n          <h5 class=\\\"modal-title\\\">{{ 'chatroomList.deleteModalHeader' | translate }}</h5>\\r\\n          <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\" aria-label=\\\"Close\\\">\\r\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n          </button>\\r\\n        </div>\\r\\n        <div class=\\\"modal-body\\\">\\r\\n          {{ 'chatroomList.deleteModalQuestion' | translate}}\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"btn btn-outline-warning\\\" (click)=\\\"deleteChatroom()\\\">{{ 'chatroomList.deleteButton' | translate }}</button>\\r\\n          <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"closeModal()\\\">{{ 'register.quitButton' | translate }}</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2hhdHJvb20tbGlzdC9jaGF0cm9vbS1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChatService } from './../../services/chat.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\n@Component({\r\n  selector: 'app-chatroom-list',\r\n  templateUrl: './chatroom-list.component.html',\r\n  styleUrls: ['./chatroom-list.component.scss']\r\n})\r\nexport class ChatroomListComponent implements OnInit {\r\n\r\n  currentUser = this.authService.getCurrentUser();\r\n  userChatsAsUserA$: any[] = [];\r\n  userChatsAsUserB$: any[] = [];\r\n  userChatsAsUserALength: number;\r\n  userChatsAsUserBLength: number;\r\n\r\n  faTimes = faTimes;\r\n\r\n  // for modal\r\n  display = 'none';\r\n  modalIsOpen = false;\r\n  roomToBeDeleted: string;\r\n  chatsArrayName: string;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private chatService: ChatService,\r\n  ) {\r\n    this.chatService.getAllChatroomsAsUserA().subscribe(chatrooms => {\r\n      this.userChatsAsUserALength = chatrooms.length;\r\n      this.userChatsAsUserA$ = chatrooms;\r\n    }, () => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n\r\n    this.chatService.getAllChatroomsAsUserB().subscribe(chatrooms => {\r\n      this.userChatsAsUserBLength = chatrooms.length;\r\n      this.userChatsAsUserB$ = chatrooms;\r\n    }, () => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  deleteChatroom() {\r\n    let indexNumber: number;\r\n    if (this.chatsArrayName === 'userChatsAsUserA$') {\r\n      this.chatService.deleteChatroom(this.roomToBeDeleted).subscribe(() => {\r\n        for (let index = 0; index < this.userChatsAsUserA$.length; index++) {\r\n          if (this.userChatsAsUserA$[index].id === this.roomToBeDeleted) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        this.userChatsAsUserA$.splice(indexNumber, 1);\r\n      });\r\n    } else {\r\n      this.chatService.deleteChatroom(this.roomToBeDeleted).subscribe(() => {\r\n        for (let index = 0; index < this.userChatsAsUserB$.length; index++) {\r\n          if (this.userChatsAsUserB$[index].id === this.roomToBeDeleted) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        this.userChatsAsUserB$.splice(indexNumber, 1);\r\n      });\r\n    }\r\n    this.closeModal();\r\n  }\r\n\r\n  openModal(chatroomId: string, chatsArrayName: string) {\r\n    console.log('id: ' + chatroomId);\r\n    this.modalIsOpen = true;\r\n    this.display = 'block';\r\n    this.roomToBeDeleted = chatroomId;\r\n    this.chatsArrayName = chatsArrayName;\r\n  }\r\n\r\n  closeModal() {\r\n    this.display = 'none';\r\n    this.modalIsOpen = false;\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row my-4\\\">\\r\\n  <div class=\\\"col-2\\\"></div>\\r\\n  <div class=\\\"col-8 text-center\\\">\\r\\n    <h1 class=\\\"card-title font-weight-light mt-2\\\">404 - Page not found</h1>\\r\\n    <br />\\r\\n    <img src=\\\"../../../assets/images/404-error.jpg\\\" class=\\\"img-fluid shadow\\\" alt=\\\"image\\\">\\r\\n  </div>\\r\\n  <div class=\\\"col-2\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZXJyb3ItcGFnZS9lcnJvci1wYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-error-page',\r\n  templateUrl: './error-page.component.html',\r\n  styleUrls: ['./error-page.component.scss']\r\n})\r\nexport class ErrorPageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<footer class=\\\"footer text-center small border-top absolute-bottom\\\">\\r\\n  <ul class=\\\"nav flex-column\\\">\\r\\n    <li class=\\\"\\\">\\r\\n      <a class=\\\"text-dark\\\" [routerLink]=\\\"['/impressum']\\\">{{'footer.legalDisclosure' | translate }}</a>\\r\\n    </li>\\r\\n    <li class=\\\"\\\">\\r\\n      <a class=\\\"text-dark\\\" [routerLink]=\\\"['/about']\\\">{{'footer.aboutUs' | translate }}</a>\\r\\n    </li>\\r\\n  </ul>\\r\\n  <p>  2019 | tandemPartner</p>\\r\\n</footer>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<h1 class=\\\"text-center font-weight-light mb-3 mt-4\\\">{{ 'home.openMatchrequests' | translate }}</h1>\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div *ngIf=\\\"unAcceptedMatchesLength, else elseBlock\\\">\\r\\n      <!-- show all matchRequests which are saved in the Array of 'matchRequests'-->\\r\\n      <div *ngFor=\\\"let match of unAcceptedMatches$ | paginate: { itemsPerPage: 5, currentPage: pageNumber }\\\">\\r\\n        <div class=\\\"card shadow my-3\\\">\\r\\n          <h5 class=\\\"card-header bg-white border-warning font-italic\\\">\\r\\n            {{ 'home.requestTitle' | translate}} {{ parseOfferForFrontend(match.matchedOffer) }}\\r\\n          </h5>\\r\\n          <div class=\\\"card-body accepted-match-cards\\\">\\r\\n            <div class=\\\"card-text\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-8 col-md-10\\\">\\r\\n                  <a class=\\\"pointer-cursor\\\" (click)=\\\"openModal(match)\\\">\\r\\n                    <p class=\\\"my-0\\\"><small>{{ match.firstname }} {{ match.lastname }}</small></p>\\r\\n                    <!-- <p class=\\\"my-0\\\"><small>Age: {{calculateAgeForModal(match.dateOfBirth)}}</small></p> -->\\r\\n                    <p class=\\\"my-0\\\"><small>Aktivitten: {{activitiesForModal(parseActivitiesForFrontend(match.activities))}}</small></p>\\r\\n                  </a>\\r\\n                </div>\\r\\n                <div class=\\\"col-4 col-md-2 d-flex justify-content-end my-auto\\\">\\r\\n                  <button type=\\\"button\\\" class=\\\"btn btn-success mr-2 homebutton\\\" (click)=\\\"acceptMatch(match.matchId);loadingButton($event);\\\">\\r\\n                    <fa-icon [icon]=\\\"faCheck\\\"></fa-icon>\\r\\n                  </button>\\r\\n                  <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\" (click)=\\\"declineMatch(match.matchId);loadingButton($event);\\\">\\r\\n                    <fa-icon [icon]=\\\"faTimes\\\"></fa-icon>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <!--ngFor-->\\r\\n\\r\\n      <!--controls for pagination, which are only visible at the length of matchRequest-array bigger than 5-->\\r\\n      <pagination-controls autoHide=\\\"true\\\" class=\\\"pagination justify-content-center\\\" (pageChange)=\\\"pageNumber = $event\\\"\\r\\n        previousLabel=\\\"{{'home.previous' | translate }}\\\" nextLabel=\\\"{{'home.next' | translate }}\\\"></pagination-controls>\\r\\n    </div>\\r\\n    <!--ngIf-->\\r\\n\\r\\n    <!-- if there are no matchrequests-->\\r\\n    <ng-template #elseBlock>\\r\\n      <p class=\\\"text-center\\\">{{ 'home.noRequests' | translate}}</p>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\\\"modal-backdrop fade in\\\" [ngStyle]=\\\"{'display':display}\\\"></div>\\r\\n<div *ngIf=\\\"modalIsOpen\\\" class=\\\"modal\\\" [ngStyle]=\\\"{'display': display}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">{{ 'modals.details' | translate}} {{firstname}}</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <table class=\\\"table table-light\\\">\\r\\n          <tbody>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'modals.details' | translate}}:</th>\\r\\n              <td>{{firstname}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'register.lastname' | translate}}:</th>\\r\\n              <td>{{lastname}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'modals.age' | translate}}:</th>\\r\\n              <td>{{age}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">Geschlecht:</th>\\r\\n              <td>{{matchSex}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'search.city' | translate}}:</th>\\r\\n              <td>{{city}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">Interessen:</th>\\r\\n              <td>{{matchActivities}}</td>\\r\\n            </tr>\\r\\n          </tbody>\\r\\n        </table>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-success mr-2\\\" (click)=\\\"acceptMatch(matchId);loadingButton($event);\\\">\\r\\n          {{ 'modals.accept' | translate}}\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-danger\\\" (click)=\\\"declineMatch(matchId);loadingButton($event);\\\">\\r\\n          {{ 'modals.decline' | translate}}\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\nimport { UtilityStoreService } from './../../services/utility-store.service';\r\nimport { MatchStoreService } from './../../services/match-store.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/models/user';\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  users: User[];\r\n  user: User;\r\n  requestUser: User;\r\n  matchRequests: any[];\r\n  initiatorFirstname: string;\r\n\r\n  unAcceptedMatches$: any[] = [];\r\n  unAcceptedMatchesLength: number;\r\n\r\n  activities;\r\n  cities;\r\n  offers;\r\n  sex;\r\n\r\n  openedModal: any;\r\n\r\n  // for fontawesome icons\r\n  faCheck = faCheck;\r\n  faTimes = faTimes;\r\n\r\n  // for pagination\r\n  pageNumber = 1;\r\n\r\n  // for modal\r\n  display = 'none';\r\n  modalIsOpen = false;\r\n  // modalUser: User;\r\n  firstname: string;\r\n  lastname: string;\r\n  matchSex: string;\r\n  city: string;\r\n  matchActivities;\r\n  age;\r\n  matchId: string;\r\n\r\n  constructor(\r\n    private matchStoreService: MatchStoreService,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private translateService: TranslateService\r\n  ) {\r\n    this.matchStoreService.getAllUnAcceptedMatches().subscribe(matches => {\r\n      this.unAcceptedMatchesLength = matches.length;\r\n      this.unAcceptedMatches$ = matches;\r\n    }, () => {\r\n      console.log('Error in home-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n  }\r\n\r\n  // when home-component was called, the written methods in ngOnInit gonna start\r\n  ngOnInit() {\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.offers = this.utliltyStoreService.getAllOffers(this.translateService.getDefaultLang());\r\n    this.activities = this.utliltyStoreService.getAllActivities(this.translateService.getDefaultLang());\r\n    this.sex = this.utliltyStoreService.getAllSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  acceptMatch(matchId) {\r\n    let indexNumber: number;\r\n    const data = {\r\n      accepted: true\r\n    };\r\n    this.matchStoreService.updateMatch(matchId, data)\r\n      .subscribe(() => {\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let index = 0; index < this.unAcceptedMatches$.length; index++) {\r\n          if (this.unAcceptedMatches$[index].matchId === matchId) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        // delete match at indexNumber\r\n        this.unAcceptedMatches$.splice(indexNumber, 1);\r\n        this.closeModal();\r\n      });\r\n  }\r\n\r\n  declineMatch(matchId) {\r\n    let indexNumber: number;\r\n    this.matchStoreService.deleteMatch(matchId)\r\n      .subscribe(() => {\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let index = 0; index < this.unAcceptedMatches$.length; index++) {\r\n          if (this.unAcceptedMatches$[index].matchId === matchId) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        // delete match at indexNumber\r\n        this.unAcceptedMatches$.splice(indexNumber, 1);\r\n        this.closeModal();\r\n      });\r\n  }\r\n\r\n  openModal(match) {\r\n    // infos for modal\r\n    this.matchId = match.matchId;\r\n    this.modalIsOpen = true;\r\n    this.display = 'block';\r\n    this.firstname = match.firstname;\r\n    this.lastname = match.lastname;\r\n    this.matchSex = this.parseSexValueForFrontend(match.sex);\r\n    this.city = this.parseCityForFrontend(match.city);\r\n    this.matchActivities = this.activitiesForModal(this.parseActivitiesForFrontend(match.activities));\r\n    this.age = this.parseDateOfBirthForFrontend(match.dateOfBirth);\r\n  }\r\n\r\n  closeModal() {\r\n    this.display = 'none';\r\n    this.modalIsOpen = false;\r\n  }\r\n\r\n  activitiesForModal(activities: string[]): string {\r\n    let arr;\r\n    arr = '';\r\n    activities.forEach(element => {\r\n      arr = element + ', ' + arr;\r\n    });\r\n    return arr.substring(0, (arr.length - 2));\r\n  }\r\n\r\n  parseSexValueForFrontend(sexIndex: number): string {\r\n    return this.sex[sexIndex];\r\n  }\r\n\r\n  parseActivitiesForFrontend(activitiesIndex: number[]) {\r\n    const activities: string[] = [];\r\n\r\n    activitiesIndex.forEach(activityIndex => {\r\n      activities.push(this.activities[activityIndex]);\r\n    });\r\n    return activities;\r\n  }\r\n\r\n  parseOfferForFrontend(selectedOfferIndex: number) {\r\n    return this.offers[selectedOfferIndex];\r\n  }\r\n\r\n  parseDateOfBirthForFrontend(dateOfBirth: number) {\r\n    const ageDifMs = Date.now() - dateOfBirth;\r\n    const ageDate = new Date(ageDifMs);\r\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n  }\r\n\r\n  parseCityForFrontend(cityIndex: number) {\r\n    return this.cities[cityIndex];\r\n  }\r\n\r\n  loadingButton(event) {\r\n    event.target.classList.add('disabled');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row mt-4\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div class=\\\"card-deck\\\">\\r\\n      <div class=\\\"card m-4 text-center py-2 shadow-sm\\\">\\r\\n        <h4 class=\\\"card-title font-weight-light\\\">{{ 'impressum.team' | translate }}</h4>\\r\\n        <hr class=\\\"my-1 border-warning\\\">\\r\\n        Constantin Beer\\r\\n        <br />Eric Odschuk\\r\\n        <br />Luis Ramer\\r\\n        <br />Arne Schacher\\r\\n        <br />Pascal Vonholdt<br />\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"card m-4 text-center py-2 shadow-sm\\\">\\r\\n        <h4 class=\\\"card-title font-weight-light\\\">{{ 'impressum.contact' | translate }}</h4>\\r\\n        <hr class=\\\"my-1 border-warning\\\">\\r\\n        <a href=\\\"mailto:tandem.hwr@gmail.com\\\">tandem.hwr@gmail.com</a>\\r\\n        HWR Berlin\\r\\n        <br />6. Semester {{ 'impressum.study' | translate }}\\r\\n        <br />Alt-Friedrichsfelde 60\\r\\n        <br />10315 Berlin\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"col-1\\\"></div>\\r\\n  </div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvaW1wcmVzc3VtLXBhZ2UvaW1wcmVzc3VtLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-impressum-page',\r\n  templateUrl: './impressum-page.component.html',\r\n  styleUrls: ['./impressum-page.component.scss']\r\n})\r\nexport class ImpressumPageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10 d-flex justify-content-center\\\">\\r\\n    <div class=\\\"mx-auto my-5 card shadow\\\">\\r\\n      <img class=\\\"card-img-top mb-4 mt-3 rounded-circle mx-auto shadow\\\" src=\\\"../../../assets/images/tandemLogo.png\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"card-title text-center\\\">tandemPartner<i class=\\\"text-muted\\\">{{'login.tandemSlogan' | translate }}</i></div>\\r\\n        <form class=\\\"m-3\\\" [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"loginFormSave()\\\">\\r\\n          <div class=\\\"input-group mb-3\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\" id=\\\"mailIcon\\\">\\r\\n                <fa-icon [icon]=\\\"faAt\\\"></fa-icon>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"loginFormMail\\\" placeholder=\\\"{{'login.mailPlaceholder' | translate }}\\\" formControlName=\\\"loginFormMail\\\" aria-describedby=\\\"mailIcon\\\" autofocus>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"input-group mb-3\\\">\\r\\n            <div class=\\\"input-group-prepend\\\">\\r\\n              <span class=\\\"input-group-text\\\" id=\\\"passwordIcon\\\">\\r\\n                <fa-icon [icon]=\\\"faLock\\\"></fa-icon>\\r\\n              </span>\\r\\n            </div>\\r\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"loginFormPassword\\\" placeholder=\\\"{{'login.passwordPlaceholder' | translate }}\\\" formControlName=\\\"loginFormPassword\\\" aria-describedby=\\\"passwordIcon\\\" autofocus>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"btn-toolbar d-flex justify-content-center\\\" role=\\\"toolbar\\\">\\r\\n            <div class=\\\"btn-group mr-2\\\">\\r\\n              <button type=\\\"button\\\" type=\\\"submit\\\" class=\\\"btn btn-warning d-flex mx-auto  mt-2\\\" >{{'login.loginButton' | translate }}</button>\\r\\n            </div>\\r\\n            <div class=\\\"btn-group\\\">\\r\\n              <button type=\\\"button\\\" [routerLink]=\\\"['/register']\\\" class=\\\"btn btn-outline-warning d-flex mx-auto mt-2\\\" >{{'login.registerButton' | translate }}</button>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"img {\\n  height: auto;\\n  width: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9sb2dpbi1wYWdlL0M6XFxVc2Vyc1xcSm9lIEJlZXJcXERvY3VtZW50c1xcV2ViUHJvZzE5XFx0YW5kZW1QYXJ0bmVyM1xcYW5ndWxhci9zcmNcXGFwcFxcY29tcG9uZW50c1xcbG9naW4tcGFnZVxcbG9naW4tcGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2xvZ2luLXBhZ2UvbG9naW4tcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiBhdXRvO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { faAt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\r\nimport { Md5 } from 'ts-md5';\r\n\r\n@Component({\r\n  selector: 'app-login-page',\r\n  templateUrl: './login-page.component.html',\r\n  styleUrls: ['./login-page.component.scss']\r\n})\r\nexport class LoginPageComponent implements OnInit {\r\n\r\n  md5 = new Md5();\r\n  loginForm: FormGroup;\r\n\r\n  // for icons\r\n  faAt = faAt;\r\n  faLock = faLock;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private authService: AuthService) {\r\n    this.loginForm = this.createLoginForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  createLoginForm() {\r\n    return this.formBuilder.group({\r\n      loginFormMail: ['', Validators.required],\r\n      loginFormPassword: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  loginFormSave() {\r\n    const mail = this.loginForm.value.loginFormMail;\r\n    const password = this.md5.appendStr(this.loginForm.value.loginFormMail)\r\n      .appendStr(this.loginForm.value.loginFormPassword).end() as string;\r\n    // const password = this.loginForm.value.loginFormPassword;\r\n\r\n    this.authService.login(mail, password);\r\n  }\r\n\r\n  get loginFormMail() {\r\n    return this.loginForm.get('loginFormMail');\r\n  }\r\n\r\n  get loginFormPassword() {\r\n    return this.loginForm.get('loginFormPassword');\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10 px-0\\\">\\r\\n    <div class=\\\"card mx-auto my-5 shadow\\\">\\r\\n      <div class=\\\"card-header h5 bg-transparent d-flex justify-content-between border-warning p-0\\\">\\r\\n        <div\\r\\n          class=\\\"col-md-6 font-weight-light text-center pointer-cursor align-self-center border-right btn-outline-warning py-3\\\"\\r\\n          data-toggle=\\\"collapse\\\" href=\\\"#collapseAccepted\\\" [ngClass]=\\\"{'active':acceptedCollapsed === true}\\\"\\r\\n          role=\\\"button\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"collapseAccepted\\\" (click)=\\\"requestsCollapsed=false\\\"\\r\\n          (click)=\\\"acceptedCollapsed=true\\\">\\r\\n          {{ 'matchlist.accpetedMatches' | translate }}\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6 font-weight-light text-center pointer-cursor btn-outline-warning py-3\\\"\\r\\n          [ngClass]=\\\"{'active':requestsCollapsed === true}\\\" data-toggle=\\\"collapse\\\" href=\\\"#collapseRequests\\\"\\r\\n          role=\\\"button\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"collapseRequests\\\" (click)=\\\"acceptedCollapsed=false\\\"\\r\\n          (click)=\\\"requestsCollapsed=true\\\">\\r\\n          {{ 'matchlist.unacceptedMatches' | translate }}\\r\\n        </div>\\r\\n      </div>\\r\\n      <!--card-header-->\\r\\n\\r\\n      <!--show all accepted Matches-->\\r\\n      <div *ngIf=\\\"acceptedCollapsed\\\" class=\\\"card-body\\\" id=\\\"collapseAccepted\\\">\\r\\n        <!-- show all accepted matches which are saved in acceptedMatches[]-->\\r\\n        <div\\r\\n          *ngFor=\\\"let match of acceptedMatchesAsInitiator$ | paginate: { itemsPerPage: 5, currentPage: pageNumberAcceptedMatches, id: 'firstPagination' }\\\">\\r\\n          <div class=\\\"card shadow my-3\\\">\\r\\n            <h5 class=\\\"card-header bg-white border-warning font-italic\\\">\\r\\n              {{ 'matchlist.matchedOffer' | translate }}: {{ parseOfferForFrontend(match.matchedOffer) }}\\r\\n            </h5>\\r\\n            <div *ngIf=\\\"acceptedMatchesAsInitiator$, else noRequestBlock\\\" class=\\\"card-body accepted-match-cards\\\">\\r\\n              <div class=\\\"card-text\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-8 col-md-10\\\">\\r\\n                    <a class=\\\"pointer-cursor\\\" (click)=\\\"openModal(match)\\\">\\r\\n                      <p class=\\\"my-0\\\"><small>{{ match.firstname }} {{ match.lastname }}</small></p>\\r\\n                      <!-- <p class=\\\"my-0\\\"><small>Age: {{calculateAgeForModal(match.dateOfBirth)}}</small></p> -->\\r\\n                      <p class=\\\"my-0\\\"><small>Aktivitten:\\r\\n                          {{activitiesForModal(parseActivitiesForFrontend(match.activities))}}</small></p>\\r\\n                    </a>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-4 col-md-2 d-flex justify-content-end my-auto\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-outline-warning mr-2 homebutton\\\" (click)=\\\"loadingButton($event);contactUser(match.uid);\\\"\\r\\n                      data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{ 'matchlist.contactTooltip' | translate }}\\\">\\r\\n                      <fa-icon [icon]=\\\"faEnvelope\\\"></fa-icon>\\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\"\\r\\n                      (click)=\\\"deleteAcceptedMatchAndCorrespondingChatroom('acceptedMatchesAsInitiator$', match.matchId, match.uid);loadingButton($event);\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                      title=\\\"{{ 'matchlist.deleteMatchTooltip' | translate }}\\\">\\r\\n                      <fa-icon [icon]=\\\"faTrash\\\"></fa-icon>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- if there are no matchrequests-->\\r\\n            <ng-template #noRequestBlock>\\r\\n              <p class=\\\"text-center\\\">{{ 'home.noRequests' | translate}}</p>\\r\\n            </ng-template>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--ngFor-->\\r\\n\\r\\n        <!-- show all accepted matches which are saved in acceptedMatches[]-->\\r\\n        <div\\r\\n          *ngFor=\\\"let match of acceptedMatchesAsPartner$ | paginate: { itemsPerPage: 5, currentPage: pageNumberAcceptedMatches, id: 'firstPagination' }\\\">\\r\\n          <div class=\\\"card shadow my-3\\\">\\r\\n            <h5 class=\\\"card-header bg-white border-warning font-italic\\\">\\r\\n              {{ 'matchlist.matchedOffer' | translate }}: {{ parseOfferForFrontend(match.matchedOffer) }}\\r\\n            </h5>\\r\\n            <div *ngIf=\\\"acceptedMatchesAsPartner$, else noRequestBlock\\\" class=\\\"card-body accepted-match-cards\\\">\\r\\n              <div class=\\\"card-text\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-8 col-md-10\\\">\\r\\n                    <a class=\\\"pointer-cursor\\\" (click)=\\\"openModal(match)\\\">\\r\\n                      <p class=\\\"my-0\\\"><small>{{ match.firstname }} {{ match.lastname }}</small></p>\\r\\n                      <!-- <p class=\\\"my-0\\\"><small>Age: {{calculateAgeForModal(match.dateOfBirth)}}</small></p> -->\\r\\n                      <p class=\\\"my-0\\\"><small>Aktivitten:\\r\\n                          {{activitiesForModal(parseActivitiesForFrontend(match.activities))}}</small></p>\\r\\n                    </a>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-4 col-md-2 d-flex justify-content-end my-auto\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-outline-warning mr-2 homebutton\\\" (click)=\\\"loadingButton($event);contactUser(match.uid);\\\"\\r\\n                      data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{ 'matchlist.contactTooltip' | translate }}\\\">\\r\\n                      <fa-icon [icon]=\\\"faEnvelope\\\"></fa-icon>\\r\\n                    </button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\"\\r\\n                      (click)=\\\"deleteAcceptedMatchAndCorrespondingChatroom('acceptedMatchesAsPartner$', match.matchId, match.uid);loadingButton($event);\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                      title=\\\"{{ 'matchlist.deleteMatchTooltip' | translate }}\\\">\\r\\n                      <fa-icon [icon]=\\\"faTrash\\\"></fa-icon>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- if there are no matchrequests-->\\r\\n            <ng-template #noRequestBlock>\\r\\n              <p class=\\\"text-center\\\">{{ 'home.noRequests' | translate}}</p>\\r\\n            </ng-template>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--ngFor-->\\r\\n\\r\\n        <!--controls for pagination, which are only visible at the length of matchRequest-array bigger than 5-->\\r\\n        <pagination-controls autoHide=\\\"true\\\" class=\\\"pagination justify-content-center\\\"\\r\\n          (pageChange)=\\\"pageNumberAcceptedMatches = $event\\\" previousLabel=\\\"{{'home.previous' | translate }}\\\"\\r\\n          nextLabel=\\\"{{'home.next' | translate }}\\\" id=\\\"firstPagination\\\">\\r\\n        </pagination-controls>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <!--show all Matchrequests-->\\r\\n      <div *ngIf=\\\"requestsCollapsed\\\" class=\\\"card-body collapse\\\" id=\\\"collapseRequests\\\">\\r\\n\\r\\n\\r\\n\\r\\n        <!-- show all unaccepted matchrequests which are saved in matchrequests[]-->\\r\\n        <div\\r\\n          *ngFor=\\\"let matchrequest of matchRequests$ | paginate: { itemsPerPage: 5, currentPage: pageNumberRequests, id: 'secondPagination' }\\\">\\r\\n          <div class=\\\"card shadow my-3\\\">\\r\\n            <h5 class=\\\"card-header bg-white border-info font-italic\\\">\\r\\n              {{ 'matchlist.matchrequestFor' | translate }}: {{ parseOfferForFrontend(matchrequest.matchedOffer) }}\\r\\n            </h5>\\r\\n            <div class=\\\"card-body unaccepted-match-cards\\\">\\r\\n              <div class=\\\"card-text\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-8 col-md-10\\\">\\r\\n\\r\\n                    <p class=\\\"my-0\\\"><small>{{ matchrequest.firstname }} {{ matchrequest.lastname }}</small></p>\\r\\n                    <!-- <p class=\\\"my-0\\\"><small>Age: {{calculateAgeForModal(matchrequest.dateOfBirth)}}</small></p> -->\\r\\n                    <p class=\\\"my-0\\\"><small>Aktivitten:\\r\\n                        {{activitiesForModal(parseActivitiesForFrontend(matchrequest.activities))}}</small></p>\\r\\n\\r\\n                  </div>\\r\\n                  <div class=\\\"col-4 col-md-2 d-flex justify-content-end my-auto\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-outline-danger homebutton\\\"\\r\\n                      (click)=\\\"deleteMatchrequest(matchrequest.matchId);loadingButton($event);\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                      title=\\\"{{ 'matchlist.deleteTooltip' | translate }}\\\">\\r\\n                      <fa-icon [icon]=\\\"faTrash\\\"></fa-icon>\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--ngFor-->\\r\\n\\r\\n        <!--controls for pagination, which are only visible at the length of matchRequest-array bigger than 5-->\\r\\n        <pagination-controls autoHide=\\\"true\\\" class=\\\"pagination justify-content-center\\\"\\r\\n          (pageChange)=\\\"pageNumberRequests = $event\\\" previousLabel=\\\"{{'home.previous' | translate }}\\\"\\r\\n          nextLabel=\\\"{{'home.next' | translate }}\\\" id=\\\"secondPagination\\\">\\r\\n        </pagination-controls>\\r\\n\\r\\n\\r\\n      </div>\\r\\n      <!--second row/card-->\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </div>\\r\\n  <!--col-10-->\\r\\n\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<!-- Modal -->\\r\\n<div class=\\\"modal-backdrop fade in\\\" [ngStyle]=\\\"{'display':display}\\\"></div>\\r\\n<div *ngIf=\\\"modalIsOpen\\\" class=\\\"modal\\\" [ngStyle]=\\\"{'display': display}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">{{ 'modals.details' | translate}} {{firstname}}</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <table class=\\\"table table-light\\\">\\r\\n          <tbody>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'modals.details' | translate}}:</th>\\r\\n              <td>{{firstname}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'register.lastname' | translate}}:</th>\\r\\n              <td>{{lastname}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'modals.age' | translate}}:</th>\\r\\n              <td>{{age}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'register.sex' | translate}}:</th>\\r\\n              <td>{{matchSex}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'search.city' | translate}}:</th>\\r\\n              <td>{{city}}</td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <th class=\\\"font-weight-normal\\\" scope=\\\"row\\\">{{ 'result.activities' | translate}}:</th>\\r\\n              <td>{{matchActivities}}</td>\\r\\n            </tr>\\r\\n          </tbody>\\r\\n        </table>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-warning homebutton\\\" (click)=\\\"loadingButton($event);contactUser(matchIDModal);\\\"\\r\\n          data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\" title=\\\"{{ 'matchlist.contactTooltip' | translate }}\\\">\\r\\n          <fa-icon [icon]=\\\"faEnvelope\\\"></fa-icon>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbWF0Y2gtbGlzdC9tYXRjaC1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChatroomListComponent } from './../chatroom-list/chatroom-list.component';\r\nimport { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\nimport { Match } from './../../models/match';\r\nimport { MatchStoreService } from './../../services/match-store.service';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { faTrash, faEnvelope } from '@fortawesome/free-solid-svg-icons';\r\nimport { Router } from '@angular/router';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { UtilityStoreService } from 'src/app/services/utility-store.service';\r\n\r\n@Component({\r\n  selector: 'app-match-list',\r\n  templateUrl: './match-list.component.html',\r\n  styleUrls: ['./match-list.component.scss']\r\n})\r\nexport class MatchListComponent implements OnInit {\r\n\r\n  matchA: Match[];\r\n  matchB: Match[];\r\n  allMatches: Match[];\r\n  acceptedMatches: Match[];\r\n  matchrequests: Match[];\r\n\r\n  matchRequests$: any[] = [];\r\n  acceptedMatchesAsInitiator$: any[] = [];\r\n  acceptedMatchesAsPartner$: any[] = [];\r\n\r\n  matchRequestLength: number;\r\n  acceptedMatchesAsInitiatorLength: number;\r\n  acceptedMatchesAsPartnerLength: number;\r\n\r\n  offers;\r\n  activities;\r\n  cities;\r\n  sex;\r\n\r\n  // for fontawesome icons\r\n  faTrash = faTrash;\r\n  faEnvelope = faEnvelope;\r\n\r\n  // for pagination\r\n  pageNumberAcceptedMatches = 1;\r\n  pageNumberRequests = 1;\r\n\r\n  // getting active & collapsed state\r\n  acceptedCollapsed = true;\r\n  requestsCollapsed = false;\r\n\r\n  // for modal\r\n  display = 'none';\r\n  modalIsOpen = false;\r\n  firstname: string;\r\n  lastname: string;\r\n  matchSex: string;\r\n  city: string;\r\n  matchActivities;\r\n  matchIDModal: string;\r\n  age;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private matchStoreService: MatchStoreService,\r\n    private router: Router,\r\n    private chatservice: ChatService,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private translateService: TranslateService,\r\n    private chatroomListComponent: ChatroomListComponent\r\n  ) {\r\n    this.matchStoreService.getAllMatchrequests().subscribe(matches => {\r\n      this.matchRequestLength = matches.length;\r\n      this.matchRequests$ = matches;\r\n    }, () => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n\r\n    this.matchStoreService.getAllAcceptedMatchesAsInitiator().subscribe(matches => {\r\n      this.acceptedMatchesAsInitiatorLength = matches.length;\r\n      this.acceptedMatchesAsInitiator$ = matches;\r\n    }, () => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n\r\n    this.matchStoreService.getAllAcceptedMatchesAsPartner().subscribe(matches => {\r\n      this.acceptedMatchesAsPartnerLength = matches.length;\r\n      this.acceptedMatchesAsPartner$ = matches;\r\n    }, () => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.offers = this.utliltyStoreService.getAllOffers(this.translateService.getDefaultLang());\r\n    this.activities = this.utliltyStoreService.getAllActivities(this.translateService.getDefaultLang());\r\n    this.sex = this.utliltyStoreService.getAllSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  contactUser(matchUid: string) {\r\n    const currentUserID = this.authService.currentUserID;\r\n\r\n    this.chatservice.create(currentUserID, matchUid)\r\n      .subscribe(response => {\r\n        if (response.result) {\r\n          this.router.navigate([`chats/${response.id}`]);\r\n        } else if (!response.result) {\r\n          this.router.navigate([`chats/${response.id}`]);\r\n        }\r\n      });\r\n  }\r\n\r\n  deleteAcceptedMatchAndCorrespondingChatroom(acceptedMatchesArrayName: string, matchId: string, matchPartner: string) {\r\n    let indexNumber: number;\r\n    const chatsAsUserAArray = this.chatroomListComponent.userChatsAsUserA$;\r\n    const chatsAsUserBArray = this.chatroomListComponent.userChatsAsUserB$;\r\n    if (acceptedMatchesArrayName === 'acceptedMatchesAsInitiator$') {\r\n      this.matchStoreService.deleteMatch(matchId).subscribe(() => {\r\n        for (let index = 0; index < this.acceptedMatchesAsInitiator$.length; index++) {\r\n          if (this.acceptedMatchesAsInitiator$[index].id === matchId) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        this.acceptedMatchesAsInitiator$.splice(indexNumber, 1);\r\n      });\r\n    } else if (acceptedMatchesArrayName === 'acceptedMatchesAsPartner$') {\r\n      this.matchStoreService.deleteMatch(matchId).subscribe(() => {\r\n        for (let index = 0; index < this.acceptedMatchesAsPartner$.length; index++) {\r\n          if (this.acceptedMatchesAsPartner$[index].id === matchId) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        this.acceptedMatchesAsPartner$.splice(indexNumber, 1);\r\n      });\r\n    }\r\n\r\n    chatsAsUserAArray.forEach(chat => {\r\n      if (chat.userB === matchPartner) {\r\n        this.chatservice.deleteChatroom(chat.id).subscribe();\r\n      }\r\n    });\r\n\r\n    chatsAsUserBArray.forEach(chat => {\r\n      if (chat.userA === matchPartner) {\r\n        this.chatservice.deleteChatroom(chat.id).subscribe();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  deleteMatchrequest(matchId) {\r\n    let indexNumber: number;\r\n    this.matchStoreService.deleteMatch(matchId)\r\n      .subscribe(() => {\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let index = 0; index < this.matchRequests$.length; index++) {\r\n          if (this.matchRequests$[index].matchId === matchId) {\r\n            indexNumber = index;\r\n          }\r\n        }\r\n        // delete match at indexNumber\r\n        this.matchRequests$.splice(indexNumber, 1);\r\n      });\r\n  }\r\n\r\n  openModal(match) {\r\n\r\n    // infos for modal\r\n    this.matchIDModal = match.uid;\r\n    this.modalIsOpen = true;\r\n    this.display = 'block';\r\n    this.firstname = match.firstname;\r\n    this.lastname = match.lastname;\r\n    this.matchSex = this.parseSexValueForFrontend(match.sex);\r\n    this.city = this.parseCityForFrontend(match.city);\r\n    this.matchActivities = this.activitiesForModal(this.parseActivitiesForFrontend(match.activities));\r\n    this.age = this.parseDateOfBirthForFrontend(match.dateOfBirth);\r\n  }\r\n\r\n  activitiesForModal(activities: string[]): string {\r\n    let arr;\r\n    arr = '';\r\n    activities.forEach(element => {\r\n      arr = element + ', ' + arr;\r\n    });\r\n    return arr.substring(0, (arr.length - 2));\r\n  }\r\n\r\n  parseSexValueForFrontend(sexIndex: number): string {\r\n    return this.sex[sexIndex];\r\n  }\r\n\r\n  closeModal() {\r\n    this.display = 'none';\r\n    this.modalIsOpen = false;\r\n  }\r\n\r\n  validateCurrentUser(initiatorID: string, partnerID: string) {\r\n    if (this.authService.currentUserID === initiatorID) {\r\n      return partnerID;\r\n    } else {\r\n      return initiatorID;\r\n    }\r\n  }\r\n\r\n  parseActivitiesForFrontend(activitiesIndex: number[]) {\r\n    const activities: string[] = [];\r\n\r\n    activitiesIndex.forEach(activityIndex => {\r\n      activities.push(this.activities[activityIndex]);\r\n    });\r\n    return activities;\r\n  }\r\n\r\n  parseOfferForFrontend(selectedOfferIndex: number) {\r\n    return this.offers[selectedOfferIndex];\r\n  }\r\n\r\n  parseDateOfBirthForFrontend(dateOfBirth: number) {\r\n    const ageDifMs = Date.now() - dateOfBirth;\r\n    const ageDate = new Date(ageDifMs);\r\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n  }\r\n\r\n  parseCityForFrontend(cityIndex: number) {\r\n    return this.cities[cityIndex];\r\n  }\r\n\r\n  loadingButton(event) {\r\n    event.target.classList.add('disabled');\r\n  }\r\n}\r\n","module.exports = \"<header>\\r\\n  <!--when the bug of new logging in is solved, we can use the following line\\r\\n  <nav *ngIf=\\\"router.url !== '/login'\\\" class=\\\"navbar navbar-light navbar-expand-lg shadow\\\">-->\\r\\n\\r\\n  <nav class=\\\"navbar fixed-top navbar-light navbar-expand-lg bg-white shadow\\\">\\r\\n    <!--toggle only visible for screens smaller than lg-->\\r\\n    <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarLinks\\\" aria-controls=\\\"navbarLinks\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\r\\n          <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n      </button>\\r\\n      <a class=\\\"navbar-brand\\\" [routerLink]=\\\"['/home']\\\">\\r\\n        <img src=\\\"../../../assets/images/navbarLogo.png\\\" class=\\\"rounded d-inline-block align-top\\\" alt=\\\"Tandem Logo\\\">\\r\\n      </a>\\r\\n\\r\\n      <!--navbar links-->\\r\\n      <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarLinks\\\">\\r\\n        <!--left aligned links-->\\r\\n        <ul *ngIf=\\\"isLoggedIn()\\\" class=\\\"navbar-nav mr-auto\\\">\\r\\n          <li class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/home']\\\" [routerLinkActive]=\\\"['active']\\\">{{ 'navbar.homeLink' | translate }}</a>\\r\\n          </li>\\r\\n          <li class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/profile']\\\" [routerLinkActive]=\\\"['active']\\\">{{ 'navbar.profileLink' | translate }}</a>\\r\\n          </li>\\r\\n          <li class=\\\"nav-item\\\">\\r\\n            <a *ngIf=\\\"router.url !== '/search/result', else resultBlock\\\" class=\\\"nav-link\\\" [routerLink]=\\\"['/search']\\\" [routerLinkActive]=\\\"['active']\\\">{{ 'navbar.searchLink' | translate }}</a>\\r\\n            <ng-template #resultBlock>\\r\\n              <a class=\\\"nav-link active\\\">{{ 'navbar.searchResults' | translate }}</a>\\r\\n            </ng-template>\\r\\n          </li>\\r\\n          <li class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/matches']\\\" [routerLinkActive]=\\\"['active']\\\">{{ 'navbar.matchesLink' | translate }}</a>\\r\\n          </li>\\r\\n          <li class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/chats']\\\" [routerLinkActive]=\\\"['active']\\\">{{ 'navbar.chatLink' | translate }}</a>\\r\\n          </li>\\r\\n        </ul>\\r\\n\\r\\n        <!-- right aligned links-->\\r\\n        <ul class=\\\"navbar-nav ml-auto\\\">\\r\\n          <!--dropdown menu-->\\r\\n          <li class=\\\"nav-item dropdown\\\">\\r\\n            <!--showing english or german language, via checking whether english language was clicked or not -->\\r\\n            <a class=\\\"nav-link dropdown-toggle pointer-cursor\\\" role=\\\"button\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" id=\\\"dropdownMenuLink\\\">\\r\\n              {{ 'navbar.lang' | translate }}\\r\\n            </a>\\r\\n            <!--dropdown links-->\\r\\n            <div class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenuLink\\\">\\r\\n              <a class=\\\"dropdown-item pointer-cursor\\\" (click)=\\\"switchLanguage('de')\\\">De</a>\\r\\n              <div class=\\\"dropdown-divider\\\"></div>\\r\\n              <a class=\\\"dropdown-item pointer-cursor\\\" (click)=\\\"switchLanguage('en')\\\" >En</a>\\r\\n            </div>\\r\\n          </li>\\r\\n\\r\\n          <!--username-->\\r\\n          <span *ngIf=\\\"isLoggedIn()\\\" class=\\\"navbar-text font-italic px-2 border-right border-left\\\">\\r\\n\\r\\n           {{ currentUserFirstname }}\\r\\n\\r\\n          </span>\\r\\n\\r\\n          <!--Logout-->\\r\\n          <li *ngIf=\\\"isLoggedIn()\\\" class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link pointer-cursor\\\" (click)=\\\"logout()\\\">{{ 'navbar.logout' | translate }}</a>\\r\\n          </li>\\r\\n          <!--Login-->\\r\\n          <li *ngIf=\\\"!isLoggedIn() \\\" class=\\\"nav-item\\\">\\r\\n            <a class=\\\"nav-link\\\" [routerLink]=\\\"['/login']\\\">{{ 'navbar.login' | translate }}</a>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n  </nav>\\r\\n</header>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbmF2YmFyL25hdmJhci5jb21wb25lbnQuc2NzcyJ9 */\"","import { UserStoreService } from './../../services/user-store.service';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  // default value for not showing the page in english\r\n  showEnglish = false;\r\n  currentUserFirstname: string;\r\n\r\n  // set Username\r\n  username: string;\r\n  greeting: string;\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private userStoreService: UserStoreService) {\r\n    translateService.setDefaultLang('de');\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.authService.user$.subscribe(user => {\r\n      try {\r\n        this.currentUserFirstname = user.firstname;\r\n      } catch {\r\n      }\r\n    });\r\n  }\r\n\r\n  isLoggedIn() {\r\n    return this.authService.isloggedIn();\r\n  }\r\n\r\n  switchLanguage(language: string) {\r\n    this.translateService.use(language);\r\n    if (language === 'en') {\r\n      this.showEnglish = true;\r\n      this.translateService.setDefaultLang('en');\r\n    } else {\r\n      this.showEnglish = false;\r\n      this.translateService.setDefaultLang('de');\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    this.authService.logout();\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div class=\\\"card mx-auto my-5 shadow\\\">\\r\\n      <div class=\\\"card-header bg-warning text-center h5\\\">\\r\\n        {{'profile.headerTitle' | translate }}\\r\\n      </div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <form class=\\\"\\\" [formGroup]=\\\"editForm\\\" novalidate>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group col-md-6\\\">\\r\\n              <label for=\\\"editFormFirstname\\\">{{'register.firstname' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"editFormFirstname\\\"\\r\\n                formControlName=\\\"editFormFirstname\\\" placeholder=\\\"{{'register.firstname' | translate }}\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-md-6\\\">\\r\\n              <label for=\\\"editFormLastname\\\">{{'register.lastname' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"editFormLastname\\\" formControlName=\\\"editFormLastname\\\"\\r\\n                placeholder=\\\"{{'register.lastname' | translate }}\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-md-6 form-group\\\">\\r\\n                <label for=\\\"editFormSex\\\">{{'register.sex' | translate }}*</label>\\r\\n                <div class=\\\"form-control shadow-sm bg-light\\\"id=\\\"editFormSex\\\" disabled>{{selectedSex}}</div>\\r\\n\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'register.mail' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"editFormMail\\\" formControlName=\\\"editFormMail\\\"\\r\\n                placeholder=\\\"name@example.com\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"editFormCity\\\">{{'register.city' | translate }}*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"editFormCity\\\" #editFormCity=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"cities\\\" [(ngModel)]=\\\"selectedCity\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone : true }\\\" [settings]=\\\"selectCitySettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"editFormBirthday\\\">{{'register.birthday' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" [placeholder]=\\\"'register.birthday' | translate\\\" class=\\\"form-control shadow-sm bg-light\\\"\\r\\n                bsDatepicker id=\\\"editFormBirthday\\\" formControlName=\\\"editFormBirthday\\\"\\r\\n                [bsConfig]=\\\"{ dateInputFormat: 'DD.MM.YYYY', containerClass: 'theme-orange' }\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"editFormOffers\\\">{{'register.offers' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"editFormOffers\\\" #editFormOffers=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"offers\\\" [(ngModel)]=\\\"selectedOffers\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone : true }\\\" [settings]=\\\"selectOffersActivitiesSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"editFormActivities\\\">{{'register.activities' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"editFormActivities\\\"\\r\\n                #editFormActivities=\\\"ngModel\\\" [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"activities\\\"\\r\\n                [(ngModel)]=\\\"selectedActivities\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectOffersActivitiesSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'profile.newPassword' | translate }}*</label>\\r\\n              <input type=\\\"password\\\" class=\\\"form-control shadow-sm\\\" id=\\\"editFormPassword\\\"\\r\\n                formControlName=\\\"editFormPassword\\\" placeholder=\\\"{{'register.password' | translate }}\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'profile.newPasswordConfirm' | translate }}*</label>\\r\\n              <input type=\\\"password\\\" class=\\\"form-control shadow-sm\\\" id=\\\"editFormPasswordConfirm\\\"\\r\\n                formControlName=\\\"editFormPasswordConfirm\\\" placeholder=\\\"{{'register.passwordConfirm' | translate }}\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!--Validator messages-->\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormFirstname.errors && (editFormFirstname.touched || editFormFirstname.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormFirstname.errors.required\\\">{{'register.firstname' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"editFormFirstname.errors.pattern\\\">{{'validators.letterSpaces' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormLastname.errors && (editFormLastname.touched || editFormLastname.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormLastname.errors.required\\\">{{'register.lastname' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"editFormLastname.errors.pattern\\\">{{'validators.letterSpaces' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\" *ngIf=\\\"editFormMail.errors && (editFormMail.touched || editFormMail.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormMail.errors.required\\\">{{'register.mail' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"editFormMail.errors.email\\\">{{'validators.email' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormPassword.errors && (editFormPassword.touched || editFormPassword.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormPassword.errors.pattern\\\">{{'validators.passwordPattern' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormPasswordConfirm.errors && (editFormPasswordConfirm.touched || editFormPasswordConfirm.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormPasswordConfirm.errors.pattern\\\">{{'validators.passwordPattern' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormPassword.value != editFormPasswordConfirm.value && editFormPasswordConfirm.value != null\\\">\\r\\n            {{'validators.passwordMismatch' | translate }}\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormOffers.errors && (editFormOffers.touched || editFormOffers.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormOffers.errors.required\\\" class=\\\"alert-danger\\\">{{'validators.minOffers' | translate }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\" *ngIf=\\\"editFormCity.errors && (editFormCity.touched || editFormCity.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormCity.errors.required\\\" class=\\\"alert-danger\\\">{{'validators.city' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"editFormActivities.errors && (editFormActivities.touched || editFormActivities.dirty)\\\">\\r\\n            <div *ngIf=\\\"editFormActivities.errors.required\\\" class=\\\"alert-danger\\\">\\r\\n              {{'validators.minActivities' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div  *ngIf=\\\"updateSuccess\\\" class=\\\"alert alert-success mb-2\\\" role=\\\"alert\\\">\\r\\n              {{'validators.updateSuccess' | translate }}\\r\\n          </div>\\r\\n\\r\\n          <div  *ngIf=\\\"invalidPassword\\\" class=\\\"alert alert-danger mb-2\\\" role=\\\"alert\\\">\\r\\n              {{'validators.incorrectPassword' | translate }}\\r\\n          </div>\\r\\n          <!--End-Validator messages-->\\r\\n\\r\\n          <div class=\\\"btn-toolbar d-flex justify-content-center\\\" role=\\\"toolbar\\\">\\r\\n            <div class=\\\"btn-group mr-1 mr-md-3\\\">\\r\\n              <button type=\\\"button\\\" type=\\\"submit\\\" class=\\\"btn btn-warning d-flex mx-auto mt-2\\\" data-toggle=\\\"modal\\\"\\r\\n                data-target=\\\"#confirmModal\\\"\\r\\n                [disabled]=\\\"(!editForm.valid || !editFormOffers.valid || !editFormActivities.valid || !editFormCity.valid)\\\">{{'profile.saveButton' | translate }}</button>\\r\\n            </div>\\r\\n            <div class=\\\"btn-group ml-md-3 mr-1 mr-md-3\\\">\\r\\n              <button type=\\\"button\\\" [routerLink]=\\\"['/home']\\\"\\r\\n                class=\\\"btn btn-outline-warning d-flex mx-auto mt-2\\\">{{'register.quitButton' | translate }}</button>\\r\\n            </div>\\r\\n            <div class=\\\"btn-group ml-md-3\\\">\\r\\n              <button type=\\\"button\\\"  class=\\\"btn btn-outline-danger d-flex mx-auto mt-2\\\" (click)=\\\"openModal()\\\">{{'profile.deleteButton' | translate }}</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\\r\\n<!-- Confirm Modal -->\\r\\n<div class=\\\"modal fade\\\" id=\\\"confirmModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"confirmModalLabel\\\"\\r\\n  aria-hidden=\\\"true\\\">\\r\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <form [formGroup]=\\\"modalForm\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\" id=\\\"confirmModalLabel\\\">{{ 'profile.modalHeader' | translate }}</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n          <input type=\\\"password\\\" class=\\\"form-control shadow-sm\\\" id=\\\"modalFormPassword\\\" formControlName=\\\"modalFormPassword\\\"\\r\\n          placeholder=\\\"{{'register.passwordConfirm' | translate }}\\\">\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" type=\\\"submit\\\" (click)=\\\"confirmAndValidatePassword()\\\" class=\\\"btn btn-outline-warning\\\" data-dismiss=\\\"modal\\\" [disabled]=\\\"!modalForm.valid\\\">{{ 'profile.confirmButton' | translate }}</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" data-dismiss=\\\"modal\\\">{{ 'register.quitButton' | translate }}</button>\\r\\n      </div>\\r\\n    </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Deletemodal -->\\r\\n<div class=\\\"modal-backdrop fade in\\\" [ngStyle]=\\\"{'display':display}\\\"></div>\\r\\n<div *ngIf=\\\"modalIsOpen\\\" class=\\\"modal\\\" [ngStyle]=\\\"{'display': display}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">{{ 'profile.deleteButton' | translate}}</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n          {{ 'profile.deleteQuestion' | translate}}\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-outline-warning\\\" (click)=\\\"deleteProfile()\\\">{{ 'profile.deleteButton' | translate}}</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-warning\\\" (click)=\\\"closeModal()\\\">{{ 'register.quitButton' | translate}}</button>\\r\\n      </div>\\r\\n  </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"#editFormOffers {\\n  padding: 0;\\n  border: none; }\\n\\n#editFormActivities {\\n  padding: 0;\\n  border: none; }\\n\\n#editFormCity {\\n  padding: 0;\\n  border: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9wcm9maWxlLXBhZ2UvQzpcXFVzZXJzXFxKb2UgQmVlclxcRG9jdW1lbnRzXFxXZWJQcm9nMTlcXHRhbmRlbVBhcnRuZXIzXFxhbmd1bGFyL3NyY1xcYXBwXFxjb21wb25lbnRzXFxwcm9maWxlLXBhZ2VcXHByb2ZpbGUtcGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixZQUFZLEVBQUE7O0FBR2Q7RUFDRSxVQUFVO0VBQ1YsWUFBWSxFQUFBOztBQUdkO0VBQ0UsVUFBVTtFQUNWLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcHJvZmlsZS1wYWdlL3Byb2ZpbGUtcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNlZGl0Rm9ybU9mZmVyc3tcclxuICBwYWRkaW5nOiAwO1xyXG4gIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuI2VkaXRGb3JtQWN0aXZpdGllc3tcclxuICBwYWRkaW5nOiAwO1xyXG4gIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuI2VkaXRGb3JtQ2l0eSB7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3JkZXI6IG5vbmU7XHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Validators, FormGroup, FormBuilder, AbstractControl } from '@angular/forms';\r\nimport { UserStoreService } from 'src/app/services/user-store.service';\r\nimport { User } from 'src/app/models/user';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { UtilityStoreService } from '../../services/utility-store.service';\r\nimport { Md5 } from 'ts-md5';\r\nimport { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-profile-page',\r\n  templateUrl: './profile-page.component.html',\r\n  styleUrls: ['./profile-page.component.scss']\r\n})\r\nexport class ProfilePageComponent implements OnInit {\r\n\r\n  md5 = new Md5();\r\n  md52 = new Md5();\r\n  currentUser;\r\n  userId: string;\r\n  editForm: FormGroup;\r\n  modalForm: FormGroup;\r\n\r\n  // for showing available offers, activities & cities\r\n  offers: any[];\r\n  activities: any[];\r\n  cities: string[];\r\n  sex: string[];\r\n\r\n  // for loading/saving the selected fields\r\n  selectedOffers: any[];\r\n  selectedActivities: any[];\r\n  selectedCity;\r\n  selectedSex: string;\r\n\r\n  // for selecting fields\r\n  selectCitySettings = {};\r\n  selectOffersActivitiesSettings = {};\r\n\r\n  // for passwordConfirming in confirmModal\r\n  updateSuccess = false;\r\n  invalidPassword = false;\r\n\r\n  // for modal\r\n  display = 'none';\r\n  modalIsOpen = false;\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private userStoreService: UserStoreService,\r\n    private authService: AuthService,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private translateService: TranslateService) {\r\n\r\n    this.editForm = this.createEditForm();\r\n    this.modalForm = this.createModalForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // initialzie all available offers & activities\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n\r\n    this.userStoreService.getUserById(this.authService.currentUserID).subscribe((recievedUser: User) => {\r\n      if (recievedUser !== undefined) {\r\n        this.selectedSex = this.parseSexValueForFrontend(recievedUser.sex);\r\n        this.selectedActivities = this.parseActivitiesForFrontend(recievedUser.activities);\r\n        this.selectedOffers = this.parseOffersForFrontend(recievedUser.offers);\r\n        this.selectedCity = Array.of(this.cities[recievedUser.city]);\r\n        this.editForm.get('editFormFirstname').setValue(recievedUser.firstname);\r\n        this.editForm.get('editFormLastname').setValue(recievedUser.lastname);\r\n        this.editForm.get('editFormMail').setValue(this.authService.currentUserMail);\r\n        this.editForm.get('editFormBirthday').setValue(new Date(recievedUser.dateOfBirth));\r\n        // modalForm valid status will be validated, therefore has to be initialized in ngOnInit()\r\n        this.modalForm.get('modalFormPassword');\r\n      }\r\n    }, error => {\r\n      console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n\r\n    this.initializeMultiselectSettings();\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.offers = this.utliltyStoreService.getAllOffers(this.translateService.getDefaultLang());\r\n    this.activities = this.utliltyStoreService.getAllActivities(this.translateService.getDefaultLang());\r\n    this.sex = this.utliltyStoreService.getAllSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  createEditForm() {\r\n    // create the formGroup\r\n    return this.formBuilder.group({\r\n      // the field only contains letters or spaces\r\n      editFormFirstname: ['', [Validators.required, Validators.pattern('[a-zA-Z]*')]],\r\n\r\n      // the field only contains letters or spaces\r\n      editFormLastname: ['', [Validators.required, Validators.pattern('[a-zA-Z]*')]],\r\n\r\n      editFormMail: ['', [Validators.required, Validators.email]],\r\n\r\n      editFormBirthday: [{ value: '', disabled: true }],\r\n\r\n      // at least 6 characters, must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, can contain special characters\r\n      // tslint:disable-next-line:max-line-length\r\n      editFormPassword: ['', [Validators.pattern('^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\\\D*\\\\d).{6,16}$')]],\r\n\r\n      // at least 6 characters, must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, can contain special characters\r\n      // tslint:disable-next-line:max-line-length\r\n      editFormPasswordConfirm: ['', [Validators.pattern('^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\\\D*\\\\d).{6,16}$')]]\r\n      // adds the custom validator for validating the passwords og their matching\r\n    }, { validator: this.passwordMatchValidator });\r\n\r\n  }\r\n\r\n  createModalForm() {\r\n    return this.formBuilder.group({\r\n      modalFormPassword: ['', [Validators.required]]\r\n    });\r\n  }\r\n\r\n  initializeMultiselectSettings() {\r\n\r\n    this.selectCitySettings = {\r\n      singleSelection: true,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      allowSearchFilter: true,\r\n      closeDropDownOnSelection: true\r\n    };\r\n    // selecting settings for the select fields of offers and activities\r\n    this.selectOffersActivitiesSettings = {\r\n      singleSelection: false,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      itemsShowLimit: 3,\r\n      allowSearchFilter: true\r\n    };\r\n  }\r\n\r\n  parseSexValueForFrontend(sexIndex: number): string {\r\n    return this.sex[sexIndex];\r\n  }\r\n\r\n  parseSexValueForBackend(sex: string): number {\r\n    return this.sex.indexOf(sex);\r\n  }\r\n\r\n  parseActivitiesForFrontend(selectedActivitiesIndexes: number[]) {\r\n    const selectedActivities: string[] = [];\r\n\r\n    selectedActivitiesIndexes.forEach(activitiyIndex => {\r\n      selectedActivities.push(this.activities[activitiyIndex]);\r\n    });\r\n    return selectedActivities;\r\n  }\r\n\r\n  parseActivitiesForBackend(selectedActivities: string[]) {\r\n    const selectedActivitiesIndexes: number[] = [];\r\n\r\n    selectedActivities.forEach(activity => {\r\n      selectedActivitiesIndexes.push(this.activities.indexOf(activity));\r\n    });\r\n    return selectedActivitiesIndexes;\r\n  }\r\n\r\n  parseOffersForFrontend(selectedOffersIndexes: number[]) {\r\n    const selectedOffers: string[] = [];\r\n\r\n    selectedOffersIndexes.forEach(offerIndex => {\r\n      selectedOffers.push(this.offers[offerIndex]);\r\n    });\r\n    return selectedOffers;\r\n  }\r\n\r\n  parseOffersForBackend(selectedOffers: string[]) {\r\n    const selectedOffersIndexes: number[] = [];\r\n\r\n    selectedOffers.forEach(offer => {\r\n      selectedOffersIndexes.push(this.offers.indexOf(offer));\r\n    });\r\n    return selectedOffersIndexes;\r\n  }\r\n\r\n  // validate the passwords whether they are matching\r\n  passwordMatchValidator(control: AbstractControl): { invalid: boolean } {\r\n    if (control.get('editFormPassword').value !== control.get('editFormPasswordConfirm').value) {\r\n      return { invalid: true };\r\n    }\r\n  }\r\n\r\n  confirmAndValidatePassword() {\r\n\r\n    const enteredPassword = this.modalForm.value.modalFormPassword;\r\n    // hash the input for conclusion with the saved password in firebase's Auth\r\n    const password: string = this.md52.appendStr(this.authService.currentUserMail)\r\n      .appendStr(this.modalForm.value.modalFormPassword).end() as string;\r\n\r\n    this.authService.validatePassword(password)\r\n      // when password was correct start editFormSave()\r\n      .then(() => {\r\n        this.invalidPassword = false;\r\n        this.editFormSave(enteredPassword);\r\n      })\r\n      // when the password was incorrect, show the specific message\r\n      .catch(() => {\r\n        this.updateSuccess = false;\r\n        this.invalidPassword = true;\r\n        setTimeout(() => {\r\n          this.invalidPassword = false;\r\n        }, 3000);\r\n        this.modalForm.reset();\r\n      });\r\n  }\r\n\r\n  // validate the input & select fields and send the mail & password to Firebase Authentication\r\n  // after that the rest of userdata incl. the recieved UserID will be send to the API(Firebase Cloud Functions)\r\n  editFormSave(enteredPassword: string) {\r\n\r\n    if (this.editForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    let userdata;\r\n    const mail = this.editForm.value.editFormMail;\r\n    const password = this.editForm.value.editFormPassword;\r\n    if (!!mail && !!password) {\r\n      // get data from the inputfields\r\n      userdata = {\r\n        firstname: this.editForm.value.editFormFirstname,\r\n        lastname: this.editForm.value.editFormLastname,\r\n        city: this.cities.indexOf(this.selectedCity[0]),\r\n        dateOfBirth: this.editForm.value.editFormBirthday,\r\n        // get the only one item from selectedSex-Array\r\n        sex: this.parseSexValueForBackend(this.selectedSex),\r\n        activities: this.parseActivitiesForBackend(this.selectedActivities),\r\n        offers: this.parseOffersForBackend(this.selectedOffers),\r\n        mail,\r\n        password: this.md5.appendStr(mail)\r\n          .appendStr(password).end()\r\n      };\r\n\r\n      this.userStoreService.updateUser(this.authService.currentUserID, userdata).subscribe(() => {\r\n        // show the updateSuccess message\r\n        this.updateSuccess = true;\r\n        setTimeout(() => {\r\n          this.updateSuccess = false;\r\n        }, 3000);\r\n        this.modalForm.reset();\r\n\r\n        this.authService.logout();\r\n      });\r\n    } else if (mail !== this.authService.currentUserMail) {\r\n      userdata = {\r\n        firstname: this.editForm.value.editFormFirstname,\r\n        lastname: this.editForm.value.editFormLastname,\r\n        city: this.cities.indexOf(this.selectedCity[0]),\r\n        dateOfBirth: this.editForm.value.editFormBirthday,\r\n        // get the only one item from selectedSex-Array\r\n        sex: this.parseSexValueForBackend(this.selectedSex),\r\n        activities: this.parseActivitiesForBackend(this.selectedActivities),\r\n        offers: this.parseOffersForBackend(this.selectedOffers),\r\n        mail,\r\n        password: this.md5.appendStr(mail)\r\n          .appendStr(enteredPassword).end()\r\n      };\r\n\r\n      this.userStoreService.updateUser(this.authService.currentUserID, userdata).subscribe(() => {\r\n        // show the updateSuccess message\r\n        this.updateSuccess = true;\r\n        setTimeout(() => {\r\n          this.updateSuccess = false;\r\n        }, 3000);\r\n        this.modalForm.reset();\r\n\r\n        this.authService.logout();\r\n      });\r\n    } else {\r\n      userdata = {\r\n        firstname: this.editForm.value.editFormFirstname,\r\n        lastname: this.editForm.value.editFormLastname,\r\n        city: this.cities.indexOf(this.selectedCity[0]),\r\n        dateOfBirth: this.editForm.value.editFormBirthday,\r\n        // get the only one item from selectedSex-Array\r\n        sex: this.parseSexValueForBackend(this.selectedSex),\r\n        activities: this.parseActivitiesForBackend(this.selectedActivities),\r\n        offers: this.parseOffersForBackend(this.selectedOffers)\r\n      };\r\n\r\n      this.userStoreService.updateUser(this.authService.currentUserID, userdata).subscribe(() => {\r\n        // show the updateSuccess message\r\n        this.updateSuccess = true;\r\n        setTimeout(() => {\r\n          this.updateSuccess = false;\r\n        }, 3000);\r\n        this.modalForm.reset();\r\n      });\r\n    } // end else\r\n  }\r\n\r\n  // getter for the inputfields\r\n  get editFormFirstname() {\r\n    return this.editForm.get('editFormFirstname');\r\n  }\r\n\r\n  get editFormLastname() {\r\n    return this.editForm.get('editFormLastname');\r\n  }\r\n\r\n  get editFormBirthday() {\r\n    return this.editForm.get('editFormBirthday');\r\n  }\r\n\r\n  get editFormMail() {\r\n    return this.editForm.get('editFormMail');\r\n  }\r\n\r\n  get editFormPassword() {\r\n    return this.editForm.get('editFormPassword');\r\n  }\r\n  get editFormPasswordConfirm() {\r\n    return this.editForm.get('editFormPasswordConfirm');\r\n  }\r\n\r\n  get modalFormPassword() {\r\n    return this.editForm.get('modalFormPassword');\r\n  }\r\n\r\n  openModal(id: string) {\r\n    console.log('id: ' + id);\r\n    this.modalIsOpen = true;\r\n    this.display = 'block';\r\n\r\n  }\r\n\r\n  closeModal() {\r\n    this.display = 'none';\r\n    this.modalIsOpen = false;\r\n  }\r\n\r\n  deleteProfile() {\r\n    this.userStoreService.deleteUser(this.authService.currentUserID).subscribe(() => {\r\n      this.closeModal();\r\n      this.authService.logout().then(() => {\r\n        alert('Profil wurde gelscht');\r\n      });\r\n    });\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcmVnaXN0ZXItcGFnZS9yZWdpc3Rlci1wYWdlLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div class=\\\"card mx-auto my-5 shadow\\\">\\r\\n      <div class=\\\"card-header bg-warning text-center h5\\\">\\r\\n        {{'register.headerTitle' | translate }}\\r\\n      </div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <form class=\\\"\\\" [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"registerFormSave()\\\" novalidate>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group col-md-6\\\">\\r\\n              <label for=\\\"registerFormFirstname\\\">{{'register.firstname' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"registerFormFirstname\\\"\\r\\n                formControlName=\\\"registerFormFirstname\\\" placeholder=\\\"{{'register.firstname' | translate }}\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group col-md-6\\\">\\r\\n              <label for=\\\"registerFormLastname\\\">{{'register.lastname' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"registerFormLastname\\\"\\r\\n                formControlName=\\\"registerFormLastname\\\" placeholder=\\\"{{'register.lastname' | translate }}\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"registerFormSex\\\">{{'register.sex' | translate }}*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"registerFormSex\\\" #registerFormSex=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"sex\\\" [(ngModel)]=\\\"selectedSex\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone : true }\\\" [settings]=\\\"selectSexSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'register.mail' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" class=\\\"form-control shadow-sm\\\" id=\\\"registerFormMail\\\" formControlName=\\\"registerFormMail\\\"\\r\\n                placeholder=\\\"name@example.com\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"registerFormCity\\\">{{'register.city' | translate }}*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"registerFormCity\\\" #registerFormCity=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"cities\\\" [(ngModel)]=\\\"selectedCity\\\"\\r\\n                [ngModelOptions]=\\\"{ standalone : true }\\\" [settings]=\\\"selectCitySettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"registerFormBirthday\\\">{{'register.birthday' | translate }}*</label>\\r\\n              <input type=\\\"text\\\" [placeholder]=\\\"'register.birthdayShort' | translate\\\" class=\\\"form-control shadow-sm\\\"\\r\\n                bsDatepicker id=\\\"registerFormBirthday\\\" formControlName=\\\"registerFormBirthday\\\"\\r\\n                [bsConfig]=\\\"{ dateInputFormat: 'DD.MM.YYYY', containerClass: 'theme-orange' }\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"registerFormOffers\\\">{{'register.offers' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"registerFormOffers\\\"\\r\\n                #registerFormOffers=\\\"ngModel\\\" [placeholder]=\\\"'register.pleaseChoose' | translate\\\" [data]=\\\"offers\\\"\\r\\n                [(ngModel)]=\\\"selectedOffers\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectOffersActivitiesSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"registerFormActivities\\\">{{'register.activities' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown class=\\\"form-control shadow-sm\\\" id=\\\"registerFormActivities\\\"\\r\\n                #registerFormActivities=\\\"ngModel\\\" [placeholder]=\\\"'register.pleaseChoose' | translate\\\"\\r\\n                [data]=\\\"activities\\\" [(ngModel)]=\\\"selectedActivities\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectOffersActivitiesSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'register.password' | translate }}*</label>\\r\\n              <input type=\\\"password\\\" class=\\\"form-control shadow-sm\\\" id=\\\"registerFormPassword\\\"\\r\\n                formControlName=\\\"registerFormPassword\\\" placeholder=\\\"{{'register.password' | translate }}\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label>{{'register.passwordConfirm' | translate }}*</label>\\r\\n              <input type=\\\"password\\\" class=\\\"form-control shadow-sm\\\" id=\\\"registerFormPasswordConfirm\\\"\\r\\n                formControlName=\\\"registerFormPasswordConfirm\\\" placeholder=\\\"{{'register.passwordConfirm' | translate }}\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!--Validator messages-->\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormFirstname.errors && (registerFormFirstname.touched || registerFormFirstname.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormFirstname.errors.required\\\">{{'register.firstname' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormFirstname.errors.pattern\\\">{{'validators.letterSpaces' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <!--Validator messages-->\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormFirstname.errors && (registerFormFirstname.touched || registerFormFirstname.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormFirstname.errors.required\\\">{{'register.firstname' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormFirstname.errors.pattern\\\">{{'validators.letterSpaces' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormLastname.errors && (registerFormLastname.touched || registerFormLastname.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormLastname.errors.required\\\">{{'register.lastname' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormLastname.errors.pattern\\\">{{'validators.letterSpaces' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormMail.errors && (registerFormMail.touched || registerFormMail.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormMail.errors.required\\\">{{'register.mail' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormMail.errors.email\\\">{{'validators.email' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormPassword.errors && (registerFormPassword.touched || registerFormPassword.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormPassword.errors.required\\\">{{'register.password' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormPassword.errors.pattern\\\">{{'validators.passwordPattern' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormPasswordConfirm.errors && (registerFormPasswordConfirm.touched || registerFormPasswordConfirm.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormPasswordConfirm.errors.required\\\">{{'register.passwordConfirm' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n            <div *ngIf=\\\"registerFormPassword.errors.pattern\\\">{{'validators.passwordPattern' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormPassword.value != registerFormPasswordConfirm.value && registerFormPasswordConfirm.value != null\\\">\\r\\n            {{'validators.passwordMismatch' | translate }}\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormSex.errors && (registerFormSex.touched || registerFormSex.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormSex.errors.required\\\" class=\\\"alert-danger\\\">{{'register.sex' | translate }}\\r\\n              {{'validators.required' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormOffers.errors && (registerFormOffers.touched || registerFormOffers.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormOffers.errors.required\\\" class=\\\"alert-danger\\\">{{'validators.minOffers' | translate }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormActivities.errors && (registerFormActivities.touched || registerFormActivities.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormActivities.errors.required\\\" class=\\\"alert-danger\\\">\\r\\n              {{'validators.minActivities' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormCity.errors && (registerFormCity.touched || registerFormCity.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormCity.errors.required\\\" class=\\\"alert-danger\\\">{{'validators.city' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\"\\r\\n            *ngIf=\\\"registerFormBirthday.errors && (registerFormBirthday.touched || registerFormBirthday.dirty)\\\">\\r\\n            <div *ngIf=\\\"registerFormBirthday.errors.required\\\" class=\\\"alert-danger\\\">\\r\\n              {{'validators.birthday' | translate }}</div>\\r\\n          </div>\\r\\n          <!--End-Validator messages-->\\r\\n\\r\\n          <div class=\\\"btn-toolbar d-flex justify-content-center\\\" role=\\\"toolbar\\\">\\r\\n            <div class=\\\"btn-group mr-1 mr-md-3\\\">\\r\\n              <button type=\\\"button\\\" type=\\\"submit\\\" class=\\\"btn btn-warning d-flex mx-auto mt-2\\\" (click)=\\\"loadingButton($event)\\\" id=\\\"loadingButton\\\"\\r\\n                [disabled]=\\\"(!registerForm.valid || !registerFormOffers.valid || !registerFormActivities.valid || !registerFormCity.valid)\\\">{{'register.saveButton' | translate }}</button>\\r\\n            </div>\\r\\n            <div class=\\\"btn-group ml-md-3\\\">\\r\\n              <button type=\\\"button\\\" [routerLink]=\\\"['/login']\\\"\\r\\n                class=\\\"btn btn-outline-warning d-flex mx-auto mt-2\\\">{{'register.quitButton' | translate }}</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n      <p class=\\\"d-flex justify-content-end text-black-50 mr-4\\\"><small>*\\r\\n          {{'register.requiredExplanation' | translate }}</small></p>\\r\\n    </div>\\r\\n    <!--card-->\\r\\n  </div>\\r\\n  <!--col-10-->\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Validators, FormGroup, FormBuilder, AbstractControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { UserStoreService } from 'src/app/services/user-store.service';\r\nimport { UtilityStoreService } from '../../services/utility-store.service';\r\nimport { Md5 } from 'ts-md5';\r\nimport { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-register-page',\r\n  templateUrl: './register-page.component.html',\r\n  styleUrls: ['./register-page.component.css']\r\n})\r\nexport class RegisterPageComponent implements OnInit {\r\n\r\n  md5 = new Md5();\r\n  registerForm: FormGroup;\r\n\r\n  sex: any[];\r\n  offers: any[];\r\n  activities: any[];\r\n  cities: string[];\r\n\r\n  selectedOffers: any[];\r\n  selectedActivities: any[];\r\n  selectedCity: any;\r\n  selectedSex: any[];\r\n\r\n  selectOffersActivitiesSettings = {};\r\n  selectSexSettings = {};\r\n  selectCitySettings = {};\r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private userStoreService: UserStoreService,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private translateService: TranslateService) {\r\n    this.registerForm = this.createRegisterForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // initialzie all available offers & activities\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n    this.initializeMultiselectSettings();\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.offers = this.utliltyStoreService.getAllOffers(this.translateService.getDefaultLang());\r\n    this.activities = this.utliltyStoreService.getAllActivities(this.translateService.getDefaultLang());\r\n    this.sex = this.utliltyStoreService.getAllSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  createRegisterForm() {\r\n    // create the formGroup\r\n    return this.formBuilder.group({\r\n      // the field only contains letters or spaces\r\n      registerFormFirstname: ['', [Validators.required, Validators.pattern('[a-zA-Z]*')]],\r\n\r\n      // the field only contains letters or spaces\r\n      registerFormLastname: ['', [Validators.required, Validators.pattern('[a-zA-Z]*')]],\r\n\r\n      registerFormMail: ['', [Validators.required, Validators.email]],\r\n\r\n      registerFormBirthday: ['', Validators.required],\r\n\r\n      // at least 6 characters, must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, can contain special characters\r\n      // tslint:disable-next-line:max-line-length\r\n      registerFormPassword: ['', [Validators.required, Validators.pattern('^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\\\D*\\\\d).{6,}$')]],\r\n\r\n      // at least 6 characters, must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, can contain special characters\r\n      // tslint:disable-next-line:max-line-length\r\n      registerFormPasswordConfirm: ['', [Validators.required, Validators.pattern('^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\\\D*\\\\d).{6,}$')]]\r\n      // adds the custom validator for validating the passwords og their matching\r\n    }, { validator: this.passwordMatchValidator });\r\n\r\n  }\r\n\r\n  initializeMultiselectSettings() {\r\n    // selecting settings for the select fields of choosing the sex\r\n    this.selectSexSettings = {\r\n      singleSelection: true,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      allowSearchFilter: false,\r\n      closeDropDownOnSelection: true\r\n    };\r\n\r\n    this.selectCitySettings = {\r\n      singleSelection: true,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      allowSearchFilter: true,\r\n      closeDropDownOnSelection: true\r\n    };\r\n\r\n    // selecting settings for the select fields of offers and activities\r\n    this.selectOffersActivitiesSettings = {\r\n      singleSelection: false,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      itemsShowLimit: 3,\r\n      allowSearchFilter: true\r\n    };\r\n  }\r\n\r\n  // validate the passwords whether they are matching\r\n  passwordMatchValidator(control: AbstractControl): { invalid: boolean } {\r\n    if (control.get('registerFormPassword').value !== control.get('registerFormPasswordConfirm').value) {\r\n      return { invalid: true };\r\n    }\r\n  }\r\n\r\n  // validate the input & select fields and send the mail & password to Firebase Authentication\r\n  // after that the rest of userdata incl. the recieved UserID will be send to the API(Firebase Cloud Functions)\r\n  registerFormSave() {\r\n\r\n    if (this.registerForm.invalid) {\r\n      return;\r\n    }\r\n    // get data from the inputfields\r\n    const userdata = {\r\n      firstname: this.registerForm.value.registerFormFirstname,\r\n      lastname: this.registerForm.value.registerFormLastname,\r\n      city: this.cities.indexOf(this.selectedCity[0]),\r\n      dateOfBirth: Number(this.registerForm.value.registerFormBirthday),\r\n      // get the only one item from selectedSex-Array\r\n      sex: this.parseSexValueForBackend(this.selectedSex[0]),\r\n      activities: this.parseActivitiesForBackend(this.selectedActivities),\r\n      offers: this.parseOffersForBackend(this.selectedOffers),\r\n      mail: this.registerForm.value.registerFormMail,\r\n      password: this.md5.appendStr(this.registerForm.value.registerFormMail)\r\n        .appendStr(this.registerForm.value.registerFormPassword).end()\r\n    };\r\n    // create new user in Firebase Authentication and Cloud Firestore\r\n    this.userStoreService.createUser(userdata).subscribe(() => {\r\n      // then go to page 'login'\r\n      this.router.navigate(['/login']);\r\n    });\r\n\r\n  }\r\n\r\n  parseSexValueForBackend(sex: string) {\r\n    return this.sex.indexOf(sex);\r\n  }\r\n\r\n  parseActivitiesForBackend(selectedActivities: string[]) {\r\n    const selectedActivitiesIndexes: number[] = [];\r\n\r\n    selectedActivities.forEach(activity => {\r\n      selectedActivitiesIndexes.push(this.activities.indexOf(activity));\r\n    });\r\n    return selectedActivitiesIndexes;\r\n  }\r\n\r\n  parseOffersForBackend(selectedOffers: string[]) {\r\n    const selectedOffersIndexes: number[] = [];\r\n\r\n    selectedOffers.forEach(offer => {\r\n      selectedOffersIndexes.push(this.offers.indexOf(offer));\r\n    });\r\n    return selectedOffersIndexes;\r\n  }\r\n\r\n  // getter for the inputfields\r\n  get registerFormFirstname() {\r\n    return this.registerForm.get('registerFormFirstname');\r\n  }\r\n\r\n  get registerFormLastname() {\r\n    return this.registerForm.get('registerFormLastname');\r\n  }\r\n\r\n  get registerFormBirthday() {\r\n    return this.registerForm.get('registerFormBirthday');\r\n  }\r\n\r\n  get registerFormMail() {\r\n    return this.registerForm.get('registerFormMail');\r\n  }\r\n\r\n  get registerFormPassword() {\r\n    return this.registerForm.get('registerFormPassword');\r\n  }\r\n\r\n  get registerFormPasswordConfirm() {\r\n    return this.registerForm.get('registerFormPasswordConfirm');\r\n  }\r\n\r\n  loadingButton(event) {\r\n    this.translateService.stream('loading.button').subscribe(key => {\r\n      document.getElementById('loadingButton').innerText = key;\r\n    });\r\n    event.target.classList.add('disabled');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row my-5\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div *ngIf=\\\"searchResultLength, else elseBlock\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header bg-transparent text-center border-warning\\\">\\r\\n          <h2 class=\\\"font-weight-light\\\">{{ 'result.results' | translate }}</h2>\\r\\n        </div>\\r\\n        <div class=\\\"card-body mx-5\\\">\\r\\n          <!-- show all accepted matches which are saved in acceptedMatches[]-->\\r\\n          <div\\r\\n            *ngFor=\\\"let user of searchResults$ | sort:'commonActivities' | paginate: { itemsPerPage: 5, currentPage: pageNumber } \\\">\\r\\n            <!--  -->\\r\\n            <div class=\\\"card shadow my-3\\\">\\r\\n              <div class=\\\"card-body accepted-match-cards\\\">\\r\\n                <div class=\\\"card-text\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-8 col-md-10\\\">\\r\\n                      <p class=\\\"my-0\\\"><small><b>{{ user.firstname }} {{ user.lastname }}</b></small></p>\\r\\n                      <p class=\\\"my-0\\\"><small><i>{{ parseSexValueForFrontend(user.sex) }}</i></small></p>\\r\\n                      <p class=\\\"my-0\\\"><small><i>{{ parseCityForFrontend(user.city) }}</i></small></p>\\r\\n                      <p class=\\\"my-0\\\"><small><i>{{ calculateAge(user.dateOfBirth) }}\\r\\n                            {{ 'result.age' | translate }}</i></small></p>\\r\\n                      <!-- <p class=\\\"my-0\\\"><small><i>{{ 'result.activities' | translate }}</i>:\\r\\n                          {{activitiesForModal(parseActivitiesForFrontend(user.activities))}}</small></p> -->\\r\\n                      <p class=\\\"my-0\\\"><small><i>{{ 'result.commonActivities' | translate }}</i>:\\r\\n                          <b>{{activitiesForModal(parseActivitiesForFrontend(user.commonActivities))}}</b></small></p>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-4 col-md-2 d-flex justify-content-end my-auto\\\">\\r\\n                      <button type=\\\"button\\\" class=\\\"btn btn-outline-success homebutton\\\"\\r\\n                        (click)=\\\"sendMatchrequest(user);openModal();\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"top\\\"\\r\\n                        title=\\\"{{ 'result.sendMatchrequestTooltip' | translate }}\\\">\\r\\n                        <fa-icon [icon]=\\\"faUserCheck\\\"></fa-icon>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!--ngFor-->\\r\\n\\r\\n          <!--controls for pagination, which are only visible at the length of matchRequest-array bigger than 5-->\\r\\n          <pagination-controls autoHide=\\\"true\\\" class=\\\"pagination justify-content-center\\\"\\r\\n            (pageChange)=\\\"pageNumber = $event\\\" previousLabel=\\\"{{'home.previous' | translate }}\\\"\\r\\n            nextLabel=\\\"{{'home.next' | translate }}\\\">\\r\\n          </pagination-controls>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- if there are no matchrequests-->\\r\\n    <ng-template #elseBlock>\\r\\n      <p class=\\\"text-center\\\">{{ 'result.noResults' | translate}}</p>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n  <!--col-10-->\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<!-- Info Modal -->\\r\\n<div class=\\\"modal-backdrop fade in\\\" [ngStyle]=\\\"{'display':display}\\\"></div>\\r\\n<div *ngIf=\\\"modalIsOpen\\\" class=\\\"modal\\\" [ngStyle]=\\\"{'display': display}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\r\\n  <div class=\\\"modal-dialog modal-dialog-centered\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\">\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">Info</h5>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"closeModal()\\\" aria-label=\\\"Close\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        {{ 'modals.matchrequest' | translate}}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvcmVzdWx0LXBhZ2UvcmVzdWx0LXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\nimport { UtilityStoreService } from './../../services/utility-store.service';\r\nimport { Searchrequest } from './../../models/searchrequest';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SearchService } from './../../services/search.service';\r\nimport { AuthService } from './../../services/auth.service';\r\nimport { MatchStoreService } from './../../services/match-store.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { User } from '../../models/user';\r\nimport { faUserCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { Match } from '../..//models/match';\r\nimport { flatMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-result-page',\r\n  templateUrl: './result-page.component.html',\r\n  styleUrls: ['./result-page.component.scss']\r\n})\r\nexport class ResultPageComponent implements OnInit {\r\n\r\n  // input variables for searchparams and the Link for getting the result is required!!\r\n  faUserCheck = faUserCheck;\r\n\r\n  // for pagination the array\r\n  pageNumber: 1;\r\n\r\n  userForSpecificRequest: User[] = [];\r\n  usersToBeExcludedArray: string[] = [];\r\n\r\n  cities;\r\n  activities;\r\n  sex;\r\n\r\n  searchResults$;\r\n  searchResultLength: number;\r\n\r\n  matchedOffer;\r\n\r\n  // for modal\r\n  display = 'none';\r\n  modalIsOpen = false;\r\n\r\n  constructor(\r\n    private matchStoreService: MatchStoreService,\r\n    private authService: AuthService,\r\n    private searchService: SearchService,\r\n    private route: ActivatedRoute,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private translateService: TranslateService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n\r\n    const searchRequestId = this.route.snapshot.paramMap.get('id');\r\n\r\n    this.searchService.getSearchRequestById(searchRequestId).pipe(\r\n      flatMap((searchRequest: Searchrequest) => {\r\n        if (searchRequest.offerParam !== undefined) {\r\n          this.matchedOffer = searchRequest.offerParam;\r\n        }\r\n        return this.searchService.getSearchResult(searchRequest);\r\n      })\r\n    ).subscribe(searchResults => {\r\n      this.searchResultLength = searchResults.length;\r\n      this.searchResults$ = searchResults;\r\n    });\r\n\r\n    // TODO check if the new implementation works, then delete the following lines.\r\n    // this.searchService.getSearchRequestById(searchRequestId).subscribe((searchRequest: Searchrequest) => {\r\n    //   if (searchRequest.offerParam !== undefined) {\r\n    //     this.matchedOffer = searchRequest.offerParam;\r\n    //   }\r\n    //   this.searchService.getSearchResult(searchRequest).subscribe(searchResults => {\r\n    //     this.searchResultLength = searchResults.length;\r\n    //     this.searchResults$ = searchResults;\r\n    //   }, error => {\r\n    //     console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    //     console.error(error);\r\n    //   });\r\n    // }, error => {\r\n    //   console.log('Error in profile-page - TODO delete this console.log() before finishing WebProg!');\r\n    //   console.error(error);\r\n    // });\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.activities = this.utliltyStoreService.getAllActivities(this.translateService.getDefaultLang());\r\n    this.sex = this.utliltyStoreService.getAllSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  calculateAgeForEachUser(birthdate: any) {\r\n    const timeDiff = Math.abs(Date.now() - birthdate);\r\n    const age = Math.floor((timeDiff / (1000 * 3600 * 24)) / 365);\r\n    return age;\r\n  }\r\n\r\n  activitiesForModal(activities: string[]): string {\r\n    let arr;\r\n    arr = '';\r\n    activities.forEach(element => {\r\n      arr = element + ', ' + arr;\r\n    });\r\n    return arr.substring(0, (arr.length - 2));\r\n  }\r\n\r\n  parseSexValueForFrontend(sexIndex: number): string {\r\n    return this.sex[sexIndex];\r\n  }\r\n\r\n  parseCityForFrontend(cityIndex: number) {\r\n    return this.cities[cityIndex];\r\n  }\r\n\r\n  parseActivitiesForFrontend(activitiesIndex: number[]) {\r\n    const activities: string[] = [];\r\n\r\n    activitiesIndex.forEach(activityIndex => {\r\n      activities.push(this.activities[activityIndex]);\r\n    });\r\n    return activities;\r\n  }\r\n\r\n  parseDateOfBirthForFrontend(dateOfBirth: number) {\r\n    const ageDifMs = Date.now() - dateOfBirth;\r\n    const ageDate = new Date(ageDifMs);\r\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\r\n  }\r\n\r\n  sendMatchrequest(partner: User) {\r\n    const newMatch: Match = new Match(this.authService.currentUserID, partner.uid, this.matchedOffer, false);\r\n    this.matchStoreService.createMatch(newMatch).subscribe();\r\n  }\r\n\r\n  calculateAge(birthdate: Date): string {\r\n    const BD = new Date(birthdate);\r\n    const timeDiff = Math.abs(Date.now() - BD.getTime());\r\n    const age = Math.floor((timeDiff / (1000 * 3600 * 24)) / 365.25);\r\n    return age + '';\r\n  }\r\n\r\n  openModal() {\r\n    this.modalIsOpen = true;\r\n    this.display = 'block';\r\n  }\r\n\r\n  closeModal() {\r\n    this.display = 'none';\r\n    this.modalIsOpen = false;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n  <div class=\\\"col-10\\\">\\r\\n    <div class=\\\"card mx-auto my-5 shadow\\\">\\r\\n      <!--header-->\\r\\n      <div class=\\\"card-header h5 bg-transparent d-flex justify-content-between border-warning p-0\\\">\\r\\n        <div class=\\\"col-md-6 font-weight-light text-center pointer-cursor align-self-center border-right btn-outline-warning py-3\\\"\\r\\n          data-toggle=\\\"collapse\\\" href=\\\"#collapseNewSearch\\\"\\r\\n          [ngClass]=\\\"{'active':newSearchCollapsed === true}\\\"\\r\\n          role=\\\"button\\\" aria-expanded=\\\"false\\\"\\r\\n          aria-controls=\\\"collapseNewSearch\\\" (click)=\\\"recentRequestCollapsed=false\\\" (click)=\\\"newSearchCollapsed=true\\\">\\r\\n          {{'search.newSearch' | translate }}\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6 font-weight-light text-center pointer-cursor btn-outline-warning py-3\\\"\\r\\n            [ngClass]=\\\"{'active':recentRequestCollapsed === true}\\\"\\r\\n            data-toggle=\\\"collapse\\\" href=\\\"#collapseRecentSearches\\\"\\r\\n            role=\\\"button\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"collapseRecentSearches\\\"\\r\\n            (click)=\\\"newSearchCollapsed=false\\\" (click)=\\\"recentRequestCollapsed=true\\\">\\r\\n            {{'search.recentSearches' | translate }}\\r\\n        </div>\\r\\n      </div><!--header-->\\r\\n\\r\\n      <!--new search area-->\\r\\n      <div *ngIf=\\\"newSearchCollapsed\\\" class=\\\"card-body\\\" id=\\\"collapseNewSearch\\\">\\r\\n        <form class=\\\"\\\" [formGroup]=\\\"searchForm\\\" (ngSubmit)=\\\"newSearchSave()\\\" novalidate>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group col-md-6\\\">\\r\\n              <label for=\\\"searchFormOffer\\\">{{'search.offer' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown  class=\\\"form-control shadow-sm\\\" id=\\\"searchFormOffer\\\" #searchFormOffer=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'search.offer' | translate\\\"\\r\\n                [data]=\\\"offers\\\"\\r\\n                [(ngModel)]=\\\"selectedOffer\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectOnlyOneSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"searchFormCity\\\">{{'search.city' | translate }}</label>\\r\\n              <ng-multiselect-dropdown  class=\\\"form-control shadow-sm\\\" id=\\\"searchFormCity\\\" #searchFormCity=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\"\\r\\n                [data]=\\\"cities\\\"\\r\\n                [(ngModel)]=\\\"selectedCity\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectOnlyOneSettings\\\">\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n              <label for=\\\"searchFormSex\\\">{{'register.sex' | translate }}:*</label>\\r\\n              <ng-multiselect-dropdown  class=\\\"form-control shadow-sm\\\" id=\\\"searchFormSex\\\" #searchFormSex=\\\"ngModel\\\"\\r\\n                [placeholder]=\\\"'register.pleaseChoose' | translate\\\"\\r\\n                [data]=\\\"sex\\\"\\r\\n                [(ngModel)]=\\\"selectedSex\\\" [ngModelOptions]=\\\"{ standalone : true }\\\"\\r\\n                [settings]=\\\"selectSexSettings\\\" required>\\r\\n              </ng-multiselect-dropdown>\\r\\n            </div>\\r\\n            </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n                <label>{{'search.minAge' | translate }}</label>\\r\\n                <input type=\\\"number\\\" class=\\\"form-control shadow-sm\\\" id=\\\"searchFormMinAge\\\" formControlName=\\\"searchFormMinAge\\\" placeholder=\\\"{{'search.minAge' | translate }}\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6 form-group\\\">\\r\\n                <label>{{'search.maxAge' | translate }}</label>\\r\\n                <input type=\\\"number\\\" class=\\\"form-control shadow-sm\\\" id=\\\"searchFormMaxAge\\\" formControlName=\\\"searchFormMaxAge\\\" placeholder=\\\"{{'search.maxAge' | translate }}\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\" *ngIf=\\\"searchFormOffer.errors && (searchFormOffer.touched || searchFormOffer.dirty)\\\">\\r\\n            <div *ngIf=\\\"searchFormOffer.errors.required\\\" class=\\\"alert-danger\\\">{{'validators.minOffers' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\" *ngIf=\\\"searchFormMinAge.value > searchFormMaxAge.value && searchFormMaxAge.touched\\\">\\r\\n            {{'validators.ageMismatch' | translate }}\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert-danger pl-2\\\" *ngIf=\\\"searchFormSex.errors && (searchFormSex.touched || searchFormSex.dirty)\\\">\\r\\n          <div *ngIf=\\\"searchFormSex.errors.required\\\" class=\\\"alert-danger\\\">{{'register.sex' | translate }}\\r\\n            {{'validators.required' | translate }}</div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row mt-2\\\" role=\\\"toolbar\\\">\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n              <button type=\\\"button\\\" type=\\\"submit\\\" class=\\\"btn btn-warning d-flex mx-auto ml-md-auto mt-2\\\" (click)=\\\"loadingButton($event)\\\" id=\\\"loadingButton\\\"\\r\\n                      [disabled]=\\\"!searchFormOffer.valid || (searchFormMinAge.value > searchFormMaxAge.value  && searchFormMaxAge.touched)\\\">\\r\\n                      {{'search.searchButton' | translate }}\\r\\n              </button>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n              <button type=\\\"button\\\" [routerLink]=\\\"['/home']\\\" class=\\\"btn btn-outline-warning d-flex mx-auto mr-md-auto mt-2\\\" >{{'register.quitButton' | translate }}</button>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </form>\\r\\n        <p class=\\\"d-flex justify-content-end text-black-50 mr-4 mt-5 mb-0\\\"><small>*\\r\\n          {{'register.requiredExplanation' | translate }}</small></p>\\r\\n      </div>\\r\\n\\r\\n      <!--recent searchrequests area-->\\r\\n      <div *ngIf=\\\"recentRequestCollapsed\\\" class=\\\"card-body collapse\\\" id=\\\"collapseRecentSearches\\\">\\r\\n        <div *ngFor=\\\"let request of recentSearchRequests$ | async\\\">\\r\\n          <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <a class=\\\"pointer-cursor\\\" (click)=\\\"useRecentSearchrequest(request.id)\\\">\\r\\n                <h5 class=\\\"font-weight-light\\\">{{ parseOfferForFrontend(request.offerParam) }}</h5>\\r\\n                <h6 *ngIf=\\\"request.minAgeParam > 0 && request.maxAgeParam > 0\\\" class=\\\"font-weight-light\\\">{{ request.minAgeParam }} - {{request.maxAgeParam}} {{'search.years' | translate }} </h6>\\r\\n                <h6 *ngIf=\\\"request.minAgeParam > 0 && request.maxAgeParam === 0\\\" class=\\\"font-weight-light\\\"> {{'search.from' | translate }} {{ request.minAgeParam }} {{'search.years' | translate }} </h6>\\r\\n                <h6 *ngIf=\\\"request.minAgeParam === 0 && request.maxAgeParam > 0\\\" class=\\\"font-weight-light\\\"> {{'search.until' | translate }} {{request.maxAgeParam}} {{'search.years' | translate }} </h6>\\r\\n                <h6 class=\\\"font-weight-light\\\">{{ parseSexValueForFrontend(request.sexParam) }}</h6>\\r\\n              </a>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div><!--ngfor-->\\r\\n      </div><!--recent searchrequests-->\\r\\n\\r\\n    </div>\\r\\n  </div><!--col-10-->\\r\\n  <div class=\\\"col-1\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2VhcmNoLXBhZ2Uvc2VhcmNoLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { AuthService } from './../../services/auth.service';\r\nimport { Searchrequest } from './../../models/searchrequest';\r\nimport { UtilityStoreService } from '../../services/utility-store.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, AbstractControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { TranslateService, DefaultLangChangeEvent } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-search-page',\r\n  templateUrl: './search-page.component.html',\r\n  styleUrls: ['./search-page.component.scss']\r\n})\r\nexport class SearchPageComponent implements OnInit {\r\n\r\n  searchForm: FormGroup;\r\n\r\n  // where the data for the select fields comes from\r\n  sex: string[];\r\n  sexDe = ['weiblich', 'mnnlich', 'beide'];\r\n  sexEn = ['female', 'male', 'both'];\r\n  offers: string[];\r\n  cities: string[];\r\n\r\n  // where the selected data will be saved\r\n  selectedOffer: string;\r\n  selectedCity: string[] = [];\r\n  selectedSex: string;\r\n\r\n  // settings for select fields\r\n  selectOnlyOneSettings = {};\r\n  selectSexSettings = {};\r\n\r\n  recentSearchrequests: Searchrequest[];\r\n\r\n  recentSearchRequests$;\r\n\r\n  // getting active & collapsed state\r\n  newSearchCollapsed = true;\r\n  recentRequestCollapsed = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private utliltyStoreService: UtilityStoreService,\r\n    private searchService: SearchService,\r\n    private authService: AuthService,\r\n    private translateService: TranslateService\r\n  ) {\r\n    this.searchForm = this.createSearchForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // initialzie all available offers & cities\r\n    this.setAllUtilities();\r\n    this.translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {\r\n      this.setAllUtilities();\r\n    });\r\n    this.initializeMultiselectSettings();\r\n\r\n    this.recentSearchRequests$ = this.searchService.getRecentSearchRequests();\r\n  }\r\n\r\n  setAllUtilities() {\r\n    this.cities = this.utliltyStoreService.getAllCities(this.translateService.getDefaultLang());\r\n    this.offers = this.utliltyStoreService.getAllOffers(this.translateService.getDefaultLang());\r\n    this.sex = this.getSex(this.translateService.getDefaultLang());\r\n  }\r\n\r\n  createSearchForm() {\r\n    // create the formGroup\r\n    return this.formBuilder.group({\r\n      searchFormMinAge: [''],\r\n      searchFormMaxAge: ['']\r\n    }, { validator: this.ageCheckValidator });\r\n  }\r\n\r\n  initializeMultiselectSettings() {\r\n    this.selectOnlyOneSettings = {\r\n      singleSelection: true,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      allowSearchFilter: true,\r\n      closeDropDownOnSelection: true\r\n    };\r\n\r\n    this.selectSexSettings = {\r\n      singleSelection: true,\r\n      idField: 'item_id',\r\n      textField: 'item_text',\r\n      enableCheckAll: false,\r\n      allowSearchFilter: false,\r\n      closeDropDownOnSelection: true,\r\n    };\r\n  }\r\n\r\n  ageCheckValidator(control: AbstractControl): { invalid: boolean } {\r\n    if (control.get('searchFormMinAge').value > control.get('searchFormMaxAge').value) {\r\n      return { invalid: true };\r\n    }\r\n  }\r\n\r\n  newSearchSave() {\r\n    const searchdata = {\r\n      offerParam: this.offers.indexOf(this.selectedOffer[0]),\r\n      cityParam: this.cities.indexOf(this.selectedCity[0]),\r\n      sexParam: this.sex.indexOf(this.selectedSex[0]),\r\n      minAgeParam: Number(this.searchForm.value.searchFormMinAge),\r\n      maxAgeParam: Number(this.searchForm.value.searchFormMaxAge),\r\n      createdAt: Date.now(),\r\n      uid: this.authService.currentUserID\r\n    };\r\n\r\n    this.searchService.createSearchrequest(searchdata)\r\n      .subscribe(response => {\r\n        this.router.navigate([`/result/${response.id}`]);\r\n      });\r\n  }\r\n\r\n  useRecentSearchrequest(searchRequestId) {\r\n    this.router.navigate([`/result/${searchRequestId}`]);\r\n  }\r\n\r\n  // shorten the male/female-word and return one letter or 'no choice'\r\n  parseSexValueForBackend(sex: string): string {\r\n    if (sex === 'male' || sex === 'mnnlich') {\r\n      return 'm';\r\n    } else if (sex === 'female' || sex === 'weiblich') {\r\n      return 'f';\r\n    } else if (sex === 'both' || sex === 'egal') {\r\n      return 'b';\r\n    } else {\r\n      return 'there was no choice of sex';\r\n    }\r\n  }\r\n\r\n  parseSexValueForFrontend(sexIndex: number): string {\r\n    return this.sex[sexIndex];\r\n  }\r\n\r\n  parseOfferForFrontend(offerIndex: number) {\r\n    return this.offers[offerIndex];\r\n  }\r\n\r\n  getSex(language: string) {\r\n    if (language === 'de') {\r\n      return this.sexDe;\r\n    } else {\r\n      return this.sexEn;\r\n    }\r\n  }\r\n\r\n  get searchFormMinAge() {\r\n    return this.searchForm.get('searchFormMinAge');\r\n  }\r\n\r\n  get searchFormMaxAge() {\r\n    return this.searchForm.get('searchFormMaxAge');\r\n  }\r\n\r\n  loadingButton(event) {\r\n    this.translateService.stream('loading.button').subscribe(key => {\r\n      document.getElementById('loadingButton').innerText = key;\r\n    });\r\n    event.target.classList.add('disabled');\r\n  }\r\n}\r\n","export class Match {\r\n  constructor(\r\n    public initiatorID: string,\r\n    public partnerID: string,\r\n    public matchedOffer: string,\r\n    public accepted: boolean\r\n  ) {}\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'sort'\r\n})\r\nexport class SortPipe implements PipeTransform {\r\n  transform(array: any, field: string): any[] {\r\n    if (!Array.isArray(array)) {\r\n      return;\r\n    }\r\n    array.sort((a: any, b: any) => {\r\n      if (a[field] > b[field]) {\r\n        return 1;\r\n      } else if (a[field] < b[field]) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n    return array.reverse();\r\n  }\r\n}\r\n","import { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { AuthService } from './auth.service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  async canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n    ): Promise<boolean> {\r\n    const user = await this.authService.getCurrentUser();\r\n    // console.log('Auth Guard');\r\n    // console.log(user);\r\n    if (!user) {\r\n      this.router.navigate(['/']);\r\n    }\r\n    return !!user;\r\n  }\r\n}\r\n","import { UserStoreService } from 'src/app/services/user-store.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase/app';\r\n\r\nimport { Observable, of } from 'rxjs';\r\nimport { switchMap, first } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  user$: Observable<any>;\r\n  currentUserID: string;\r\n  // currentUsername: string;\r\n  currentUserMail: string;\r\n  currentUserActivities: number[] = [];\r\n\r\n  isLoggedIn = false;\r\n  // store the URL so we can redirect after logging in\r\n  redirectUrl: string;\r\n\r\n  constructor(\r\n    private angularFireAuth: AngularFireAuth,\r\n    private angularFirestore: AngularFirestore,\r\n    private router: Router) {\r\n\r\n    this.user$ = this.angularFireAuth.authState.pipe(\r\n      switchMap(user => {\r\n        if (user) {\r\n          this.currentUserID = user.uid;\r\n          // this.currentUsername = user.displayName;\r\n          this.currentUserMail = user.email;\r\n          return this.angularFirestore.doc<any>(`users/${user.uid}`).valueChanges();\r\n        } else {\r\n          return of(null);\r\n        }\r\n      })\r\n    );\r\n\r\n    // this.user$.pipe(first()).toPromise().then(user => {\r\n    //   this.currentUserActivities = user.activities;\r\n    // })\r\n    // .catch(error => {\r\n    //   console.error(error);\r\n    // });\r\n\r\n    this.user$.subscribe(user => {\r\n      if (user !== null && user !== undefined) {\r\n        this.currentUserActivities = user.activities;\r\n      }\r\n    }, error => {\r\n      console.log('Error in auth-service - TODO delete this console.log() before finishing WebProg!');\r\n    });\r\n  }\r\n\r\n  isloggedIn(): boolean {\r\n    const user = this.angularFireAuth.auth.currentUser;\r\n    if (user) {\r\n      return this.isLoggedIn = true;\r\n    } else {\r\n      return this.isLoggedIn = false;\r\n    }\r\n  }\r\n\r\n  getCurrentUser() {\r\n    return this.user$.pipe(first()).toPromise();\r\n  }\r\n\r\n  async validatePassword(password: string) {\r\n    const credential = firebase.auth.EmailAuthProvider.credential(this.currentUserMail, password);\r\n    await this.angularFireAuth.auth.currentUser.reauthenticateAndRetrieveDataWithCredential(credential);\r\n  }\r\n\r\n  async logout() {\r\n    await this.angularFireAuth.auth.signOut();\r\n    this.isLoggedIn = false;\r\n    localStorage.removeItem('user');\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n  async login(mail: string, password: string) {\r\n    try {\r\n      await this.angularFireAuth.auth.signInWithEmailAndPassword(mail, password);\r\n      this.isLoggedIn = true;\r\n      this.router.navigate(['/home']);\r\n    } catch (error) {\r\n      alert('Not able to sign in!' + error.message);\r\n    }\r\n  }\r\n}\r\n","import { Chatroom } from './../models/chatroom';\r\nimport { UserStoreService } from 'src/app/services/user-store.service';\r\nimport { IdResponse } from '../models/idResponse';\r\nimport { combineLatest, Observable, of } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ChatService {\r\n\r\n  // private apiUrl2 = 'http://localhost:5000/tandemfirebase/us-central1/chatrooms';\r\n  private apiUrl2 = 'https://us-central1-tandemfirebase.cloudfunctions.net/chatrooms';\r\n  private headers: Headers = new Headers();\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private angularFirestore: AngularFirestore,\r\n    private http: HttpClient,\r\n    private userStoreService: UserStoreService\r\n  ) {\r\n    this.headers.append('Content-Type', 'application/json');\r\n  }\r\n\r\n  // Create a new chatroom by calling the corresponding endpoint.\r\n  create(userA, userB) {\r\n    const data = {\r\n      userA,\r\n      userB,\r\n      updated: Date.now(),\r\n      messages: []\r\n    };\r\n    return this.http.post<IdResponse>(`${this.apiUrl2}`, data);\r\n  }\r\n\r\n  // Send a message to the Cloud Firestore database by calling the corresponding endpoint.\r\n  sendMessage(chatroomId, content) {\r\n    const uid = this.authService.currentUserID;\r\n    const data = {\r\n      uid,\r\n      content,\r\n      createdAt: Date.now()\r\n    };\r\n    return this.http.put(`${this.apiUrl2}/${chatroomId}`, data);\r\n  }\r\n\r\n  getAllChatroomsAsUserA() {\r\n    return this.angularFirestore\r\n      .collection('chatrooms', ref => ref.where('userA', '==', this.authService.user$ ? this.authService.currentUserID : ''))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data() as Chatroom;\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        }),\r\n        switchMap(chatrooms => {\r\n          return combineLatest(chatrooms.map(chatroom => {\r\n            return this.userStoreService.getUserById(chatroom.userB).pipe(\r\n              map(userChatPartner => {\r\n                return { ...chatroom, ...userChatPartner };\r\n              })\r\n            );\r\n          }));\r\n        })\r\n      );\r\n  }\r\n\r\n  getAllChatroomsAsUserB() {\r\n    return this.angularFirestore\r\n      .collection('chatrooms', ref => ref.where('userB', '==', this.authService.user$ ? this.authService.currentUserID : ''))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data() as Chatroom;\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        }),\r\n        switchMap(chatrooms => {\r\n          return combineLatest(chatrooms.map(chatroom => {\r\n            return this.userStoreService.getUserById(chatroom.userA).pipe(\r\n              map(userChatPartner => {\r\n                return { ...chatroom, ...userChatPartner };\r\n              })\r\n            );\r\n          }));\r\n        })\r\n      );\r\n  }\r\n\r\n  // Get an chatroom by it's doc-id and return it as an observable with realtime changes.\r\n  getChatroomById(chatroomId: string) {\r\n    return this.angularFirestore\r\n      .collection<any>(`chatrooms`)\r\n      .doc(chatroomId)\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(doc => {\r\n          return { id: doc.payload.id, ...doc.payload.data() };\r\n        })\r\n      );\r\n  }\r\n\r\n  // Get the corresponding user to every message as an observable with realtime changes.\r\n  joinUsers(chat$: Observable<any>) {\r\n    let chat;\r\n    const joinKeys = {};\r\n\r\n    return chat$.pipe(\r\n      switchMap(c => {\r\n        // Unique User IDs\r\n        chat = c;\r\n        const uids = Array.from(new Set(c.messages.map(value => value.uid)));\r\n        // Firestore User Doc Reads\r\n        const userDocs = uids.map(u =>\r\n          this.angularFirestore.doc(`users/${u}`).valueChanges()\r\n        );\r\n\r\n        return userDocs.length ? combineLatest(userDocs) : of([]);\r\n      }),\r\n      map(array => {\r\n        array.forEach(v => (joinKeys[(v as any).uid] = v));\r\n        chat.messages = chat.messages.map(v => {\r\n          return { ...v, user: joinKeys[v.uid] };\r\n        });\r\n\r\n        return chat;\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteChatroom(chatroomId: string) {\r\n    return this.http.delete(`${this.apiUrl2}/${chatroomId}`);\r\n  }\r\n\r\n}\r\n","import { UserStoreService } from 'src/app/services/user-store.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { Match } from './../models/match';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthService } from './auth.service';\r\nimport { switchMap, map } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { combineLatest } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MatchStoreService {\r\n\r\n  // private apiUrl = 'http://localhost:5000/tandemfirebase/us-central1';\r\n  private apiUrl = 'https://us-central1-tandemfirebase.cloudfunctions.net';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private angularFirestore: AngularFirestore,\r\n    private authService: AuthService,\r\n    private userStoreService: UserStoreService) {\r\n  }\r\n\r\n  createMatch(match: Match) {\r\n    return this.http.post(`${this.apiUrl}/matches/`, match);\r\n  }\r\n\r\n  getAllMatches() {\r\n    const resultA = this.queryAllMatches('initiatorID');\r\n    const resultB = this.queryAllMatches('partnerID');\r\n\r\n    return combineLatest(resultA, resultB).pipe(\r\n      map(([users, otherUsers]) => users.concat(otherUsers)));\r\n  }\r\n\r\n  getAllUnAcceptedMatches() {\r\n    return this.authService.user$.pipe(\r\n      switchMap(user => {\r\n        return this.angularFirestore\r\n          .collection('matches', ref => ref.where('partnerID', '==', user ? user.uid : '')\r\n            .where('accepted', '==', false))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as Match;\r\n                const matchId = a.payload.doc.id;\r\n                return { matchId, ...data };\r\n              });\r\n            })\r\n          );\r\n      }),\r\n      switchMap(matches => {\r\n        return combineLatest(matches.map(match => {\r\n          return this.userStoreService.getUserById(match.initiatorID).pipe(\r\n            map(user => {\r\n              return { ...match, ...user };\r\n            })\r\n          );\r\n        }));\r\n      })\r\n    );\r\n  }\r\n\r\n  getAllAcceptedMatchesAsInitiator() {\r\n    return this.angularFirestore\r\n      .collection('matches', ref => ref.where('initiatorID', '==', this.authService.user$ ? this.authService.currentUserID : '')\r\n        .where('accepted', '==', true))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data() as Match;\r\n            const matchId = a.payload.doc.id;\r\n            return { matchId, ...data };\r\n          });\r\n        }),\r\n        switchMap(matches => {\r\n          return combineLatest(matches.map(match => {\r\n            return this.userStoreService.getUserById(match.partnerID).pipe(\r\n              map(userMatch => {\r\n                return { ...match, ...userMatch };\r\n              })\r\n            );\r\n          }));\r\n        })\r\n      );\r\n  }\r\n\r\n  getAllAcceptedMatchesAsPartner() {\r\n    return this.angularFirestore\r\n      .collection('matches', ref => ref.where('partnerID', '==', this.authService.user$ ? this.authService.currentUserID : '')\r\n        .where('accepted', '==', true))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data() as Match;\r\n            const matchId = a.payload.doc.id;\r\n            return { matchId, ...data };\r\n          });\r\n        }),\r\n        switchMap(matches => {\r\n          return combineLatest(matches.map(match => {\r\n            return this.userStoreService.getUserById(match.initiatorID).pipe(\r\n              map(userMatch => {\r\n                return { ...match, ...userMatch };\r\n              })\r\n            );\r\n          }));\r\n        })\r\n      );\r\n  }\r\n\r\n  getAllMatchrequests() {\r\n    return this.angularFirestore\r\n      .collection('matches', ref => ref.where('initiatorID', '==', this.authService.user$ ? this.authService.currentUserID : '')\r\n        .where('accepted', '==', false))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data() as Match;\r\n            const matchId = a.payload.doc.id;\r\n            return { matchId, ...data };\r\n          });\r\n        }),\r\n        switchMap(matches => {\r\n          return combineLatest(matches.map(match => {\r\n            return this.userStoreService.getUserById(match.partnerID).pipe(\r\n              map(userMatch => {\r\n                return { ...match, ...userMatch };\r\n              })\r\n            );\r\n          }));\r\n        })\r\n      );\r\n  }\r\n\r\n  private queryAllMatches(fieldNameOfRole) {\r\n    return this.authService.user$.pipe(\r\n      switchMap(user => {\r\n        return this.angularFirestore\r\n          .collection('matches', ref => ref.where(fieldNameOfRole, '==', user ? user.uid : ''))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as Match;\r\n                const matchId = a.payload.doc.id;\r\n                return { matchId, ...data };\r\n              });\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  updateMatch(matchId: string, data: any) {\r\n    return this.http.put(`${this.apiUrl}/matches/${matchId}`, data);\r\n  }\r\n\r\n  deleteMatch(matchId: string) {\r\n    return this.http.delete(`${this.apiUrl}/matches/${matchId}`);\r\n  }\r\n}\r\n","import { MatchStoreService } from './match-store.service';\r\nimport { Searchrequest } from './../models/searchrequest';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { AuthService } from './auth.service';\r\nimport { User } from '../models/user';\r\nimport { IdResponse } from '../models/idResponse';\r\nimport { combineLatest } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n\r\n  // TODO Try to refactor service, if there is still time at the end\r\n\r\n  // private apiUrl = 'http://localhost:5000/tandemfirebase/us-central1';\r\n  private apiUrl = 'https://us-central1-tandemfirebase.cloudfunctions.net';\r\n  private headers: Headers = new Headers();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private angularFirestore: AngularFirestore,\r\n    private authService: AuthService,\r\n    private matchStoreService: MatchStoreService\r\n  ) {\r\n    this.headers.append('Content-Type', 'application/json');\r\n  }\r\n\r\n  createSearchrequest(searchdata: any) {\r\n    return this.http.post<IdResponse>(`${this.apiUrl}/searches/`, searchdata);\r\n  }\r\n\r\n  getRecentSearchRequests() {\r\n    return this.angularFirestore\r\n      .collection(`users/${this.authService.currentUserID}/searches`, ref => ref.orderBy('createdAt', 'desc'))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        })\r\n      );\r\n  }\r\n\r\n  getSearchRequestById(searchRequestId) {\r\n    return this.angularFirestore\r\n      .collection<any>('users')\r\n      .doc<User>(this.authService.currentUserID)\r\n      .collection('searches')\r\n      .doc<Searchrequest>(searchRequestId).valueChanges();\r\n  }\r\n\r\n  getSearchResult(searchRequest: Searchrequest) {\r\n    if (searchRequest.minAgeParam === 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithCityAndSexAndMaxButWithoutMin(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam === 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithCityAndMaxButWithoutMinAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam === 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithSexAndMaxButWithoutMinAndWithoutCity(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam === 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithMaxButWithoutMinAndWithoutCityAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam === 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithCityAndSexAndMinButWithoutMax(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam === 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithCityAndMinButWithoutMaxAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam === 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithSexAndMinButWithoutMaxAndWithoutCity(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam === 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithMinButWithoutMaxAndWithoutCityAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithCityAndSexAndMinAndMax(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithCityAndMinAndMaxButWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithSexAndMinAndMaxButWithoutCity(searchRequest);\r\n    }\r\n    if (searchRequest.minAgeParam !== 0 &&\r\n      searchRequest.maxAgeParam !== 0 &&\r\n      searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithMinAndMaxButWithoutCityAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.cityParam === -1 &&\r\n      searchRequest.sexParam === 2) {\r\n      return this.searchQueryWithoutCityAndWithoutSex(searchRequest);\r\n    }\r\n    if (searchRequest.cityParam >= 0 &&\r\n      searchRequest.sexParam < 2) {\r\n      return this.searchQueryWithCityAndSex(searchRequest);\r\n    }\r\n    if (searchRequest.cityParam === -1) {\r\n      return this.searchQueryWithoutCityButWithSex(searchRequest);\r\n    }\r\n    if (searchRequest.cityParam >= 0) {\r\n      return this.searchQueryWithCityButWithoutSex(searchRequest);\r\n    }\r\n  }\r\n\r\n  searchQueryWithCityButWithoutSex(searchRequest: Searchrequest) {\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = [];\r\n              users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithoutCityAndWithoutSex(searchRequest: Searchrequest) {\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = [];\r\n              users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithCityAndSex(searchRequest: Searchrequest) {\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('sex', '==', searchRequest.sexParam))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = [];\r\n              users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithoutCityButWithSex(searchRequest: Searchrequest) {\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('sex', '==', searchRequest.sexParam))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = [];\r\n              users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithCityAndSexAndMinAndMax(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    const minAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    const maxAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    return combineLatest(minAgeUsers, maxAgeUsers).pipe(\r\n      map(([minUsers, maxUsers]) => {\r\n        const usersResult: any[] = [];\r\n\r\n        minUsers.forEach(minUser => {\r\n          maxUsers.forEach(maxUser => {\r\n            if (minUser.uid === maxUser.uid) {\r\n              usersResult.push(minUser);\r\n            }\r\n          });\r\n        });\r\n\r\n        return usersResult;\r\n      }));\r\n  }\r\n\r\n  searchQueryWithCityAndMinAndMaxButWithoutSex(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    const minAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    const maxAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    return combineLatest(minAgeUsers, maxAgeUsers).pipe(\r\n      map(([minUsers, maxUsers]) => {\r\n        const usersResult: any[] = [];\r\n\r\n        minUsers.forEach(minUser => {\r\n          maxUsers.forEach(maxUser => {\r\n            if (minUser.uid === maxUser.uid) {\r\n              usersResult.push(minUser);\r\n            }\r\n          });\r\n        });\r\n\r\n        return usersResult;\r\n      }));\r\n  }\r\n\r\n  searchQueryWithSexAndMinAndMaxButWithoutCity(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    const minAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    const maxAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    return combineLatest(minAgeUsers, maxAgeUsers).pipe(\r\n      map(([minUsers, maxUsers]) => {\r\n        const usersResult: any[] = [];\r\n\r\n        minUsers.forEach(minUser => {\r\n          maxUsers.forEach(maxUser => {\r\n            if (minUser.uid === maxUser.uid) {\r\n              usersResult.push(minUser);\r\n            }\r\n          });\r\n        });\r\n\r\n        return usersResult;\r\n      }));\r\n  }\r\n\r\n  searchQueryWithMinAndMaxButWithoutCityAndWithoutSex(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    const minAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    const maxAgeUsers = this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n\r\n    return combineLatest(minAgeUsers, maxAgeUsers).pipe(\r\n      map(([minUsers, maxUsers]) => {\r\n        const usersResult: any[] = [];\r\n\r\n        minUsers.forEach(minUser => {\r\n          maxUsers.forEach(maxUser => {\r\n            if (minUser.uid === maxUser.uid) {\r\n              usersResult.push(minUser);\r\n            }\r\n          });\r\n        });\r\n\r\n        return usersResult;\r\n      }));\r\n  }\r\n\r\n  searchQueryWithCityAndSexAndMinButWithoutMax(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithCityAndMinButWithoutMaxAndWithoutSex(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithSexAndMinButWithoutMaxAndWithoutCity(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithMinButWithoutMaxAndWithoutCityAndWithoutSex(searchRequest: Searchrequest) {\r\n    const minAge = searchRequest.minAgeParam;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const minAgeDate = Number(new Date(todayYear - minAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('dateOfBirth', '<=', minAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithCityAndSexAndMaxButWithoutMin(searchRequest: Searchrequest) {\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithCityAndMaxButWithoutMinAndWithoutSex(searchRequest: Searchrequest) {\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('city', '==', searchRequest.cityParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithSexAndMaxButWithoutMinAndWithoutCity(searchRequest: Searchrequest) {\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('sex', '==', searchRequest.sexParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  searchQueryWithMaxButWithoutMinAndWithoutCityAndWithoutSex(searchRequest: Searchrequest) {\r\n    const maxAge = searchRequest.maxAgeParam + 1;\r\n\r\n    const today = new Date();\r\n    const todayYear = today.getFullYear();\r\n    const todayMonth = today.getMonth();\r\n    const todayDay = today.getDay();\r\n\r\n    const maxAgeDate = Number(new Date(todayYear - maxAge, todayMonth, todayDay));\r\n\r\n    return this.getUsersToBeExcludedArray().pipe(\r\n      switchMap(userArray => {\r\n        const uniqueUsers = Array.from(new Set(userArray));\r\n        return this.angularFirestore\r\n          .collection<any>('users', ref => ref.where('offers', 'array-contains', searchRequest.offerParam)\r\n            .where('dateOfBirth', '>=', maxAgeDate))\r\n          .snapshotChanges()\r\n          .pipe(\r\n            map(actions => {\r\n              return actions.map(a => {\r\n                const data = a.payload.doc.data() as User;\r\n                return { ...data };\r\n              });\r\n            }),\r\n            map(users => {\r\n              let commonActivities: number[] = [];\r\n              const currentUserActivities = this.authService.currentUserActivities;\r\n              const filteredUsers: any[] = []; users.map(user => {\r\n                if (uniqueUsers.includes(user.uid) === false) {\r\n                  user.activities.forEach(activity => {\r\n                    currentUserActivities.forEach(currentUserActivity => {\r\n                      if (activity === currentUserActivity) {\r\n                        commonActivities.push(activity);\r\n                      }\r\n                    });\r\n                  });\r\n                  filteredUsers.push({ commonActivities, ...user });\r\n                  commonActivities = [];\r\n                }\r\n              });\r\n              return filteredUsers;\r\n            })\r\n          );\r\n      })\r\n    );\r\n  }\r\n\r\n  getUsersToBeExcludedArray() {\r\n    return this.matchStoreService.getAllMatches().pipe(\r\n      map(matches => {\r\n        const userArray: string[] = [];\r\n        userArray.push(this.authService.currentUserID);\r\n        matches.map(match => {\r\n          userArray.push(match.initiatorID);\r\n          userArray.push(match.partnerID);\r\n        });\r\n        return userArray;\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","import { AngularFirestore } from '@angular/fire/firestore';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserStoreService {\r\n\r\n\r\n  // private apiUrl = 'http://localhost:5000/tandemfirebase/us-central1';\r\n  private apiUrl = 'https://us-central1-tandemfirebase.cloudfunctions.net';\r\n  private headers: Headers = new Headers();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private angularFirestore: AngularFirestore) {\r\n    this.headers.append('Content-Type', 'application/json');\r\n  }\r\n\r\n  getAllUsers() {\r\n    return this.http.get(`${this.apiUrl}/users/`);\r\n  }\r\n\r\n  getUserById(uid) {\r\n    return this.angularFirestore\r\n      .collection<any>(`users`)\r\n      .doc<User>(uid).valueChanges();\r\n  }\r\n\r\n  createUser(user: any) {\r\n    // generate new API-User\r\n    const data = {\r\n      firstname: user.firstname,\r\n      lastname: user.lastname,\r\n      dateOfBirth: user.dateOfBirth,\r\n      sex: user.sex,\r\n      city: user.city,\r\n      activities: user.activities,\r\n      offers: user.offers,\r\n      mail: user.mail,\r\n      password: user.password\r\n    };\r\n\r\n    return this.http.post(`${this.apiUrl}/users/`, data);\r\n  }\r\n\r\n  updateUser(id: string, user: any) {\r\n    return this.http.put(`${this.apiUrl}/users/${id}`, user);\r\n  }\r\n\r\n  deleteUser(id: string) {\r\n    return this.http.delete(`${this.apiUrl}/users/${id}`);\r\n  }\r\n}\r\n","import { Utilities } from './../models/utilities';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UtilityStoreService {\r\n\r\n  offersDe;\r\n  offersEn;\r\n  activitiesDe;\r\n  activitiesEn;\r\n  citiesDe;\r\n  citiesEn;\r\n  sexDe;\r\n  sexEn;\r\n\r\n  constructor(\r\n    private angularFirestore: AngularFirestore\r\n  ) {\r\n    this.angularFirestore.collection('utilities')\r\n      .doc('utilitiesDoc')\r\n      .get()\r\n      .subscribe(doc => {\r\n        const utilitiesDoc = doc.data() as Utilities;\r\n        this.offersDe = utilitiesDoc.offersDe;\r\n        this.offersEn = utilitiesDoc.offersEn;\r\n        this.activitiesDe = utilitiesDoc.activitiesDe;\r\n        this.activitiesEn = utilitiesDoc.activitiesEn;\r\n        this.citiesDe = utilitiesDoc.citiesDe;\r\n        this.citiesEn = utilitiesDoc.citiesEn;\r\n        this.sexDe = utilitiesDoc.sexDe;\r\n        this.sexEn = utilitiesDoc.sexEn;\r\n      });\r\n  }\r\n\r\n  getAllOffers(language: string) {\r\n    if (language === 'de') {\r\n      return this.offersDe;\r\n    } else {\r\n      return this.offersEn;\r\n    }\r\n  }\r\n\r\n  getAllActivities(language: string) {\r\n    if (language === 'de') {\r\n      return this.activitiesDe;\r\n    } else {\r\n      return this.activitiesEn;\r\n    }\r\n  }\r\n\r\n  getAllCities(language: string) {\r\n    if (language === 'de') {\r\n      return this.citiesDe;\r\n    } else {\r\n      return this.citiesEn;\r\n    }\r\n  }\r\n\r\n  getAllSex(language: string) {\r\n    if (language === 'de') {\r\n      return this.sexDe;\r\n    } else {\r\n      return this.sexEn;\r\n    }\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: 'AIzaSyCww8YKdmbCbawimU1yEzpNDb6jHpr8fzs',\r\n    projectId: 'tandemfirebase'\r\n  }\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}